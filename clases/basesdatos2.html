<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bases de Datos Relacionales ‚Äî Clase 2: JOINs y SQL Avanzado</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="512x512" href="../favicon.png">
    <link rel="icon" type="image/png" sizes="192x192" href="../favicon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../favicon.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../favicon.png">
    <link rel="apple-touch-icon" href="../favicon.png">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5/dist/reveal.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5/dist/theme/white.css" id="theme">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5/plugin/highlight/monokai.css">
    <link rel="stylesheet" href="styles.css">
    <style>
      .btn-volver {
        position: fixed;
        top: 20px;
        left: 20px;
        background: rgba(255,255,255,0.95);
        color: #667eea;
        padding: 10px 20px;
        border-radius: 20px;
        text-decoration: none;
        font-weight: 600;
        z-index: 1000;
        box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        transition: all 0.3s ease;
      }
      .btn-volver:hover {
        background: #667eea;
        color: white;
      }
    </style>
  </head>
  <body>
    <!-- Verificaci√≥n de autenticaci√≥n -->
    <script src="../auth-check.js"></script>

    <a href="../index.html" class="btn-volver">‚Üê Inicio</a>

    <div class="reveal">
      <div class="slides">
        
        <!-- Slide 1 ‚Äî Portada -->
        <section data-background-gradient="linear-gradient(135deg, #667eea 0%, #764ba2 100%)">
          <h1 class="grad-text">Bases de Datos Relacionales</h1>
          <p class="subtitle" style="color: #0d47a1; font-size: 1.3em; background: transparent; padding: 15px 30px; border-radius: 0; display: inline-block; margin-top: 20px; text-shadow: 2px 2px 4px rgba(255,255,255,0.8);">Clase 2: JOINs, Normalizaci√≥n y SQL Avanzado</p>
          <p style="color: #0d47a1; margin-top: 40px; font-size: 1em; background: transparent; padding: 15px 30px; border-radius: 0; display: inline-block;">
            <span class="pill xml">Teor√≠a Avanzada</span>
            <span class="pill xml">JOINs</span>
            <span class="pill xml">DDL</span>
          </p>
        </section>

        <!-- Slide 2 ‚Äî Repaso Clase Anterior -->
        <section>
          <h2><span class="icon">üìö</span>Repaso: Clase 1</h2>
          <div class="two-col">
            <div>
              <h3 style="color: #667eea;">Vimos:</h3>
              <ul style="text-align: left; font-size: 0.85em;">
                <li>‚úÖ Fundamentos de BBDD</li>
                <li>‚úÖ Modelo relacional</li>
                <li>‚úÖ Claves y relaciones</li>
                <li>‚úÖ SELECT, WHERE, ORDER BY</li>
                <li>‚úÖ Funciones de agregaci√≥n</li>
                <li>‚úÖ GROUP BY</li>
              </ul>
            </div>
            <div>
              <h3 style="color: #764ba2;">Hoy veremos:</h3>
              <ul style="text-align: left; font-size: 0.85em;">
                <li>üîó JOINs entre tablas</li>
                <li>üéØ Normalizaci√≥n</li>
                <li>üî¨ Propiedades ACID</li>
                <li>üèóÔ∏è DDL (CREATE, INSERT, UPDATE, DELETE)</li>
                <li>‚ö° √çndices y optimizaci√≥n</li>
                <li>üëÅÔ∏è Vistas y transacciones</li>
              </ul>
            </div>
          </div>
        </section>

        <!-- Slide 3 ‚Äî JOINs Introducci√≥n -->
        <section>
          <h2><span class="icon">üîó</span>JOINs: Unir Tablas</h2>
          <div class="definition-box">
            <p><strong>JOIN</strong> permite combinar datos de m√∫ltiples tablas relacionadas</p>
          </div>
          <div class="fragment" style="margin-top: 30px;">
            <h3>Tipos principales:</h3>
            <div class="two-col" style="margin-top: 20px;">
              <div class="join-box">
                <h4>INNER JOIN</h4>
                <p style="font-size: 0.85em;">Solo registros que coinciden en ambas tablas</p>
                <div style="font-size: 2em; margin: 10px 0;">‚≠ï ‚à© ‚≠ï</div>
              </div>
              <div class="join-box">
                <h4>LEFT JOIN</h4>
                <p style="font-size: 0.85em;">Todos los de la izquierda + coincidencias</p>
                <div style="font-size: 2em; margin: 10px 0;">‚≠ï ‚äÉ ‚≠ï</div>
              </div>
            </div>
          </div>
        </section>

        <!-- Slide 4 ‚Äî INNER JOIN Ejemplo -->
        <section>
          <h2><span class="icon">üîó</span>INNER JOIN en Acci√≥n</h2>
          <div class="code-example">
            <pre><code class="sql">SELECT p.titulo, c.nombre AS categoria 
FROM pelicula p
INNER JOIN categoria c ON p.categoria_id = c.categoria_id;</code></pre>
          </div>
          <div class="fragment" style="margin-top: 25px;">
            <p><strong>Resultado:</strong> Lista de pel√≠culas con el nombre de su categor√≠a</p>
            <table style="font-size: 0.8em; margin: 20px auto; max-width: 500px;">
              <tr style="background: #667eea; color: white;">
                <th>titulo</th>
                <th>categoria</th>
              </tr>
              <tr><td>Matrix</td><td>Ciencia Ficci√≥n</td></tr>
              <tr><td>Toy Story</td><td>Animaci√≥n</td></tr>
              <tr><td>Titanic</td><td>Romance</td></tr>
            </table>
          </div>
          <p class="fragment tip-box" style="margin-top: 20px;">
            <strong>Nota:</strong> Usamos alias <code>p</code> y <code>c</code> para abreviar
          </p>
        </section>

        <!-- Slide 5 ‚Äî Integridad Referencial -->
        <section>
          <h2><span class="icon">üõ°Ô∏è</span>Integridad Referencial</h2>
          <div class="definition-box">
            <p>Asegura que las <strong>relaciones entre tablas</strong> sean v√°lidas</p>
          </div>
          <div class="fragment" style="margin-top: 30px;">
            <h3>Reglas:</h3>
            <ul style="text-align: left; max-width: 800px; margin: 20px auto;">
              <li class="fragment">‚úÖ No puedes insertar un alquiler con <code>cliente_id = 999</code> si el cliente 999 no existe</li>
              <li class="fragment">‚úÖ No puedes borrar un cliente si tiene alquileres asociados (sin antes borrar los alquileres)</li>
              <li class="fragment">‚úÖ La base de datos garantiza consistencia de datos</li>
            </ul>
          </div>
          <div class="fragment success-box" style="margin-top: 25px;">
            <p><strong>Ventaja:</strong> La base de datos protege tus datos autom√°ticamente</p>
          </div>
        </section>

        <!-- Slide 6 ‚Äî Normalizaci√≥n Introducci√≥n -->
        <section>
          <h2><span class="icon">üéØ</span>Normalizaci√≥n de Bases de Datos</h2>
          <div class="definition-box">
            <p><strong>Normalizaci√≥n:</strong> Proceso de organizar datos para <strong>evitar redundancia</strong> y <strong>mejorar la integridad</strong></p>
          </div>
          <div class="fragment" style="margin-top: 30px;">
            <h3>Formas Normales (FN):</h3>
            <ul style="text-align: left; max-width: 700px; margin: 20px auto; font-size: 0.9em;">
              <li class="fragment"><strong>1FN:</strong> Sin grupos repetitivos, valores at√≥micos</li>
              <li class="fragment"><strong>2FN:</strong> Cumple 1FN + sin dependencias parciales</li>
              <li class="fragment"><strong>3FN:</strong> Cumple 2FN + sin dependencias transitivas</li>
            </ul>
          </div>
          <p class="fragment tip-box" style="margin-top: 25px;">
            La mayor√≠a de las bases de datos bien dise√±adas est√°n en 3FN
          </p>
        </section>

        <!-- Slide 7 ‚Äî Ejemplo de Normalizaci√≥n -->
        <section>
          <h2><span class="icon">‚ùå</span>Tabla NO Normalizada</h2>
          <table style="font-size: 0.7em; margin: 20px auto;">
            <tr style="background: #e53935; color: white;">
              <th>pedido_id</th>
              <th>cliente</th>
              <th>email</th>
              <th>producto</th>
              <th>precio</th>
            </tr>
            <tr><td>1</td><td>Juan P√©rez</td><td>juan@email.com</td><td>Laptop, Mouse</td><td>800, 20</td></tr>
            <tr><td>2</td><td>Juan P√©rez</td><td>juan@email.com</td><td>Teclado</td><td>50</td></tr>
          </table>
          <div class="fragment" style="margin-top: 20px;">
            <h3>‚ùå Problemas:</h3>
            <ul style="text-align: left; max-width: 700px; margin: 20px auto; font-size: 0.85em;">
              <li>Datos de Juan repetidos (redundancia)</li>
              <li>Si Juan cambia su email, hay que actualizar en varios sitios</li>
              <li>Columnas con m√∫ltiples valores (Laptop, Mouse)</li>
            </ul>
          </div>
        </section>

        <!-- Slide 8 ‚Äî Tabla Normalizada -->
        <section>
          <h2><span class="icon">‚úÖ</span>Tablas Normalizadas</h2>
          <div class="grid-3" style="font-size: 0.65em;">
            <div>
              <h4>Tabla: cliente</h4>
              <table>
                <tr style="background: #667eea; color: white;">
                  <th>cliente_id</th>
                  <th>nombre</th>
                  <th>email</th>
                </tr>
                <tr><td>1</td><td>Juan P√©rez</td><td>juan@email.com</td></tr>
              </table>
            </div>
            <div>
              <h4>Tabla: pedido</h4>
              <table>
                <tr style="background: #764ba2; color: white;">
                  <th>pedido_id</th>
                  <th>cliente_id</th>
                  <th>fecha</th>
                </tr>
                <tr><td>1</td><td>1</td><td>2024-01-15</td></tr>
                <tr><td>2</td><td>1</td><td>2024-01-20</td></tr>
              </table>
            </div>
            <div>
              <h4>Tabla: detalle_pedido</h4>
              <table>
                <tr style="background: #ffa726; color: white;">
                  <th>pedido_id</th>
                  <th>producto</th>
                  <th>precio</th>
                </tr>
                <tr><td>1</td><td>Laptop</td><td>800</td></tr>
                <tr><td>1</td><td>Mouse</td><td>20</td></tr>
                <tr><td>2</td><td>Teclado</td><td>50</td></tr>
              </table>
            </div>
          </div>
          <p class="fragment success-box" style="margin-top: 25px;">
            ‚úÖ Sin redundancia ¬∑ ‚úÖ F√°cil de actualizar ¬∑ ‚úÖ Estructura clara
          </p>
        </section>

        <!-- Slide 9 ‚Äî Dise√±o de BD: Pasos -->
        <section>
          <h2><span class="icon">üìê</span>Dise√±o de Bases de Datos</h2>
          <div class="steps-container">
            <div class="step fragment">
              <div class="step-number">1</div>
              <div class="step-content">
                <h4>An√°lisis de Requisitos</h4>
                <p>¬øQu√© datos necesitamos guardar?</p>
              </div>
            </div>
            <div class="step fragment">
              <div class="step-number">2</div>
              <div class="step-content">
                <h4>Modelo Entidad-Relaci√≥n (ER)</h4>
                <p>Diagramar entidades y relaciones</p>
              </div>
            </div>
            <div class="step fragment">
              <div class="step-number">3</div>
              <div class="step-content">
                <h4>Modelo Relacional</h4>
                <p>Convertir a tablas y claves</p>
              </div>
            </div>
            <div class="step fragment">
              <div class="step-number">4</div>
              <div class="step-content">
                <h4>Normalizaci√≥n</h4>
                <p>Optimizar estructura (evitar redundancia)</p>
              </div>
            </div>
            <div class="step fragment">
              <div class="step-number">5</div>
              <div class="step-content">
                <h4>Implementaci√≥n SQL</h4>
                <p>CREATE TABLE, INSERT, etc.</p>
              </div>
            </div>
          </div>
        </section>

        <!-- Slide 10 ‚Äî Ventajas del Modelo Relacional -->
        <section>
          <h2><span class="icon">‚≠ê</span>Ventajas de las Bases de Datos Relacionales</h2>
          <div class="grid-2" style="margin-top: 30px;">
            <div class="advantage-card fragment">
              <div style="font-size: 2.5em;">üéØ</div>
              <h4>Estructura Clara</h4>
              <p>Datos organizados en tablas f√°ciles de entender</p>
            </div>
            <div class="advantage-card fragment">
              <div style="font-size: 2.5em;">üîí</div>
              <h4>Integridad</h4>
              <p>Reglas que aseguran datos consistentes</p>
            </div>
            <div class="advantage-card fragment">
              <div style="font-size: 2.5em;">‚ö°</div>
              <h4>Rendimiento</h4>
              <p>Consultas optimizadas con √≠ndices</p>
            </div>
            <div class="advantage-card fragment">
              <div style="font-size: 2.5em;">üîê</div>
              <h4>Seguridad</h4>
              <p>Control de acceso por usuario</p>
            </div>
            <div class="advantage-card fragment">
              <div style="font-size: 2.5em;">üìä</div>
              <h4>ACID</h4>
              <p>Transacciones confiables</p>
            </div>
            <div class="advantage-card fragment">
              <div style="font-size: 2.5em;">üåç</div>
              <h4>Est√°ndar SQL</h4>
              <p>Mismo lenguaje en todas las BBDD</p>
            </div>
          </div>
        </section>

        <!-- Slide 11 ‚Äî ACID -->
        <section>
          <h2><span class="icon">üî¨</span>Propiedades ACID</h2>
          <p>Garant√≠as de las transacciones en bases de datos relacionales</p>
          <div class="grid-2 fragment" style="margin-top: 30px;">
            <div class="acid-box">
              <h3>A - Atomicidad</h3>
              <p>Todo o nada. Si una parte falla, se revierte todo</p>
              <p class="ejemplo-text">Ejemplo: Transferencia bancaria</p>
            </div>
            <div class="acid-box">
              <h3>C - Consistencia</h3>
              <p>Los datos siempre cumplen las reglas</p>
              <p class="ejemplo-text">Ejemplo: Claves for√°neas v√°lidas</p>
            </div>
            <div class="acid-box">
              <h3>I - Aislamiento</h3>
              <p>Las transacciones no se interfieren entre s√≠</p>
              <p class="ejemplo-text">Ejemplo: Dos usuarios simult√°neos</p>
            </div>
            <div class="acid-box">
              <h3>D - Durabilidad</h3>
              <p>Una vez confirmada, la transacci√≥n es permanente</p>
              <p class="ejemplo-text">Ejemplo: Aunque caiga el servidor</p>
            </div>
          </div>
        </section>

        <!-- Slide 12 ‚Äî Tipos de Datos SQL -->
        <section>
          <h2><span class="icon">üè∑Ô∏è</span>Tipos de Datos en SQL</h2>
          <div class="grid-3" style="font-size: 0.8em; margin-top: 30px;">
            <div class="datatype-box fragment">
              <h4>üìä Num√©ricos</h4>
              <ul style="text-align: left; font-size: 0.9em;">
                <li><code>INTEGER</code></li>
                <li><code>DECIMAL(10,2)</code></li>
                <li><code>FLOAT</code></li>
                <li><code>SERIAL</code> (auto-incremento)</li>
              </ul>
            </div>
            <div class="datatype-box fragment">
              <h4>üìù Texto</h4>
              <ul style="text-align: left; font-size: 0.9em;">
                <li><code>VARCHAR(255)</code></li>
                <li><code>TEXT</code></li>
                <li><code>CHAR(10)</code></li>
              </ul>
            </div>
            <div class="datatype-box fragment">
              <h4>üìÖ Fecha y Hora</h4>
              <ul style="text-align: left; font-size: 0.9em;">
                <li><code>DATE</code></li>
                <li><code>TIME</code></li>
                <li><code>TIMESTAMP</code></li>
              </ul>
            </div>
            <div class="datatype-box fragment">
              <h4>‚úÖ Booleano</h4>
              <ul style="text-align: left; font-size: 0.9em;">
                <li><code>BOOLEAN</code></li>
                <li>true / false</li>
              </ul>
            </div>
          </div>
        </section>

        <!-- Slide 13 ‚Äî CREATE TABLE -->
        <section>
          <h2><span class="icon">üèóÔ∏è</span>CREATE TABLE: Crear Tablas</h2>
          <div class="code-example fragment">
            <pre><code class="sql">CREATE TABLE cliente (
    cliente_id SERIAL PRIMARY KEY,
    nombre VARCHAR(100) NOT NULL,
    apellido VARCHAR(100) NOT NULL,
    email VARCHAR(150) UNIQUE NOT NULL,
    fecha_registro TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    activo BOOLEAN DEFAULT true
);</code></pre>
          </div>
          <div class="fragment" style="margin-top: 25px;">
            <h3>Restricciones (Constraints):</h3>
            <ul style="text-align: left; max-width: 700px; margin: 15px auto; font-size: 0.85em;">
              <li><code>PRIMARY KEY</code> ‚Üí Clave primaria</li>
              <li><code>NOT NULL</code> ‚Üí No puede ser nulo</li>
              <li><code>UNIQUE</code> ‚Üí No puede repetirse</li>
              <li><code>DEFAULT</code> ‚Üí Valor por defecto</li>
            </ul>
          </div>
        </section>

        <!-- Slide 14 ‚Äî INSERT -->
        <section>
          <h2><span class="icon">‚ûï</span>INSERT: Insertar Datos</h2>
          <div class="code-example fragment">
            <pre><code class="sql">INSERT INTO cliente (nombre, apellido, email) 
VALUES ('Juan', 'P√©rez', 'juan@email.com');</code></pre>
          </div>
          <div class="fragment code-example" style="margin-top: 25px;">
            <h4>Insertar m√∫ltiples filas:</h4>
            <pre><code class="sql">INSERT INTO cliente (nombre, apellido, email) 
VALUES 
    ('Mar√≠a', 'Garc√≠a', 'maria@email.com'),
    ('Carlos', 'L√≥pez', 'carlos@email.com'),
    ('Ana', 'Mart√≠nez', 'ana@email.com');</code></pre>
          </div>
          <p class="fragment tip-box" style="margin-top: 20px;">
            No necesitas especificar <code>cliente_id</code> porque es SERIAL (auto-incremento)
          </p>
        </section>

        <!-- Slide 15 ‚Äî UPDATE -->
        <section>
          <h2><span class="icon">‚úèÔ∏è</span>UPDATE: Modificar Datos</h2>
          <div class="code-example fragment">
            <pre><code class="sql">UPDATE cliente 
SET email = 'nuevo_email@email.com' 
WHERE cliente_id = 1;</code></pre>
          </div>
          <div class="fragment warning-box" style="margin-top: 30px;">
            <h3>‚ö†Ô∏è ¬°CUIDADO!</h3>
            <p>Si olvidas el <code>WHERE</code>, actualizar√°s TODAS las filas</p>
            <pre style="background: #fff3cd; color: #856404; padding: 15px; border-radius: 8px; margin-top: 10px;"><code class="sql">-- ‚ùå ESTO CAMBIA TODOS LOS EMAILS
UPDATE cliente SET email = 'mismo@email.com';</code></pre>
          </div>
        </section>

        <!-- Slide 16 ‚Äî DELETE -->
        <section>
          <h2><span class="icon">üóëÔ∏è</span>DELETE: Eliminar Datos</h2>
          <div class="code-example fragment">
            <pre><code class="sql">DELETE FROM cliente 
WHERE cliente_id = 3;</code></pre>
          </div>
          <div class="fragment warning-box" style="margin-top: 30px;">
            <h3>‚ö†Ô∏è ¬°M√ÅS CUIDADO A√öN!</h3>
            <p>Si olvidas el <code>WHERE</code>, borrar√°s TODA la tabla</p>
            <pre style="background: #f8d7da; color: #721c24; padding: 15px; border-radius: 8px; margin-top: 10px;"><code class="sql">-- ‚ùå ESTO BORRA TODOS LOS CLIENTES
DELETE FROM cliente;</code></pre>
          </div>
          <p class="fragment tip-box" style="margin-top: 20px;">
            <strong>Consejo:</strong> Primero haz un SELECT con el WHERE para verificar qu√© vas a eliminar
          </p>
        </section>

        <!-- Slide 17 ‚Äî √çndices -->
        <section>
          <h2><span class="icon">‚ö°</span>√çndices: Acelerar Consultas</h2>
          <div class="definition-box">
            <p><strong>√çndice:</strong> Estructura de datos que mejora la velocidad de b√∫squeda</p>
            <p style="font-size: 0.9em; margin-top: 10px;">Similar al √≠ndice de un libro üìñ</p>
          </div>
          <div class="fragment comparison-box" style="margin-top: 30px;">
            <div class="two-col">
              <div>
                <h4>Sin √çndice</h4>
                <p style="font-size: 0.85em;">Busca fila por fila</p>
                <p style="font-size: 2em;">üêå</p>
                <p style="font-size: 0.8em; color: #999;">1,000,000 filas = lento</p>
              </div>
              <div>
                <h4>Con √çndice</h4>
                <p style="font-size: 0.85em;">Acceso directo</p>
                <p style="font-size: 2em;">üöÄ</p>
                <p style="font-size: 0.8em; color: #999;">1,000,000 filas = r√°pido</p>
              </div>
            </div>
          </div>
          <div class="code-example fragment" style="margin-top: 25px;">
            <pre><code class="sql">CREATE INDEX idx_cliente_email ON cliente(email);</code></pre>
          </div>
        </section>

        <!-- Slide 18 ‚Äî Vistas (Views) -->
        <section>
          <h2><span class="icon">üëÅÔ∏è</span>Vistas (Views)</h2>
          <div class="definition-box">
            <p><strong>Vista:</strong> Consulta SQL guardada como si fuera una tabla virtual</p>
          </div>
          <div class="code-example fragment" style="margin-top: 30px;">
            <pre><code class="sql">CREATE VIEW v_peliculas_completas AS
SELECT 
    p.titulo,
    p.a√±o_lanzamiento,
    c.nombre AS categoria,
    p.duracion
FROM pelicula p
JOIN categoria c ON p.categoria_id = c.categoria_id;</code></pre>
          </div>
          <div class="fragment" style="margin-top: 25px;">
            <p>Luego puedes consultarla como una tabla normal:</p>
            <pre><code class="sql">SELECT * FROM v_peliculas_completas WHERE categoria = 'Acci√≥n';</code></pre>
          </div>
        </section>

        <!-- Slide 19 ‚Äî Transacciones -->
        <section>
          <h2><span class="icon">üí≥</span>Transacciones</h2>
          <div class="definition-box">
            <p><strong>Transacci√≥n:</strong> Conjunto de operaciones que se ejecutan como una unidad</p>
            <p style="font-size: 0.9em;">Todo se completa o nada se completa</p>
          </div>
          <div class="code-example fragment" style="margin-top: 30px;">
            <pre><code class="sql">BEGIN; -- Iniciar transacci√≥n

UPDATE cuenta SET saldo = saldo - 100 WHERE cliente_id = 1;
UPDATE cuenta SET saldo = saldo + 100 WHERE cliente_id = 2;

COMMIT; -- Confirmar cambios</code></pre>
          </div>
          <div class="fragment" style="margin-top: 25px;">
            <p><strong>Si algo falla:</strong></p>
            <pre><code class="sql">ROLLBACK; -- Deshacer todos los cambios</code></pre>
          </div>
        </section>

        <!-- Slide 20 ‚Äî Buenas Pr√°cticas -->
        <section>
          <h2><span class="icon">‚ú®</span>Buenas Pr√°cticas de Dise√±o</h2>
          <ul style="text-align: left; max-width: 800px; margin: 30px auto;">
            <li class="fragment">‚úÖ Usa nombres descriptivos en ingl√©s: <code>customer</code>, <code>order_id</code></li>
            <li class="fragment">‚úÖ Siempre define una clave primaria</li>
            <li class="fragment">‚úÖ Normaliza hasta 3FN (generalmente)</li>
            <li class="fragment">‚úÖ Usa tipos de datos apropiados</li>
            <li class="fragment">‚úÖ Define restricciones (NOT NULL, UNIQUE, etc.)</li>
            <li class="fragment">‚úÖ Documenta tu esquema</li>
            <li class="fragment">‚úÖ Crea √≠ndices en columnas que se consultan frecuentemente</li>
            <li class="fragment">‚úÖ Usa transacciones para operaciones cr√≠ticas</li>
          </ul>
        </section>

        <!-- Slide 21 ‚Äî Herramientas -->
        <section>
          <h2><span class="icon">üõ†Ô∏è</span>Herramientas para Trabajar con BBDD</h2>
          <div class="grid-3" style="margin-top: 30px; font-size: 0.85em;">
            <div class="tool-card fragment">
              <h4>pgAdmin</h4>
              <p>Cliente gr√°fico para PostgreSQL</p>
            </div>
            <div class="tool-card fragment">
              <h4>DBeaver</h4>
              <p>Cliente universal (cualquier BD)</p>
            </div>
            <div class="tool-card fragment">
              <h4>MySQL Workbench</h4>
              <p>Para MySQL espec√≠ficamente</p>
            </div>
            <div class="tool-card fragment">
              <h4>TablePlus</h4>
              <p>Cliente moderno multi-plataforma</p>
            </div>
            <div class="tool-card fragment">
              <h4>SQL Playground</h4>
              <p>¬°El que vamos a usar! üöÄ</p>
            </div>
            <div class="tool-card fragment">
              <h4>Terminal (psql)</h4>
              <p>Cliente de l√≠nea de comandos</p>
            </div>
          </div>
        </section>

        <!-- Slide 22 ‚Äî Diagrama ER -->
        <section>
          <h2><span class="icon">üìä</span>Diagrama Entidad-Relaci√≥n (ER)</h2>
          <p>Representaci√≥n visual del dise√±o de la base de datos</p>
          <div class="er-diagram fragment" style="margin-top: 30px; background: white; padding: 30px; border-radius: 15px;">
            <svg viewBox="0 0 800 400" style="max-width: 100%; height: auto;">
              <!-- Entidad Cliente -->
              <rect x="50" y="100" width="150" height="200" fill="#667eea" rx="10"/>
              <text x="125" y="130" text-anchor="middle" fill="white" font-weight="bold">CLIENTE</text>
              <line x1="50" y1="140" x2="200" y2="140" stroke="white" stroke-width="2"/>
              <text x="125" y="165" text-anchor="middle" fill="white" font-size="14">üîë cliente_id</text>
              <text x="125" y="190" text-anchor="middle" fill="white" font-size="14">nombre</text>
              <text x="125" y="215" text-anchor="middle" fill="white" font-size="14">apellido</text>
              <text x="125" y="240" text-anchor="middle" fill="white" font-size="14">email</text>
              <text x="125" y="265" text-anchor="middle" fill="white" font-size="14">activo</text>
              
              <!-- Entidad Alquiler -->
              <rect x="325" y="100" width="150" height="200" fill="#764ba2" rx="10"/>
              <text x="400" y="130" text-anchor="middle" fill="white" font-weight="bold">ALQUILER</text>
              <line x1="325" y1="140" x2="475" y2="140" stroke="white" stroke-width="2"/>
              <text x="400" y="165" text-anchor="middle" fill="white" font-size="14">üîë alquiler_id</text>
              <text x="400" y="190" text-anchor="middle" fill="white" font-size="14">üîó cliente_id</text>
              <text x="400" y="215" text-anchor="middle" fill="white" font-size="14">üîó pelicula_id</text>
              <text x="400" y="240" text-anchor="middle" fill="white" font-size="14">fecha_alquiler</text>
              <text x="400" y="265" text-anchor="middle" fill="white" font-size="14">precio_pagado</text>
              
              <!-- Entidad Pel√≠cula -->
              <rect x="600" y="100" width="150" height="200" fill="#667eea" rx="10"/>
              <text x="675" y="130" text-anchor="middle" fill="white" font-weight="bold">PEL√çCULA</text>
              <line x1="600" y1="140" x2="750" y2="140" stroke="white" stroke-width="2"/>
              <text x="675" y="165" text-anchor="middle" fill="white" font-size="14">üîë pelicula_id</text>
              <text x="675" y="190" text-anchor="middle" fill="white" font-size="14">titulo</text>
              <text x="675" y="215" text-anchor="middle" fill="white" font-size="14">a√±o_lanzamiento</text>
              <text x="675" y="240" text-anchor="middle" fill="white" font-size="14">duracion</text>
              <text x="675" y="265" text-anchor="middle" fill="white" font-size="14">precio_alquiler</text>
              
              <!-- Relaciones -->
              <line x1="200" y1="200" x2="325" y2="200" stroke="#333" stroke-width="3"/>
              <text x="262" y="190" text-anchor="middle" font-size="16">1:N</text>
              
              <line x1="475" y1="200" x2="600" y2="200" stroke="#333" stroke-width="3"/>
              <text x="537" y="190" text-anchor="middle" font-size="16">N:1</text>
            </svg>
          </div>
        </section>

        <!-- Slide 23 ‚Äî Recursos y SQL Playground -->
        <section data-background-gradient="linear-gradient(135deg, #667eea 0%, #764ba2 100%)">
          <h2 style="color: white;">üöÄ ¬°Ahora a Practicar!</h2>
          <div style="background: rgba(255,255,255,0.95); padding: 40px; border-radius: 20px; max-width: 700px; margin: 30px auto;">
            <h3 style="color: #667eea;">SQL Playground</h3>
            <p style="color: #666; font-size: 1.1em; margin: 20px 0;">Practica todo lo aprendido con 30 ejercicios guiados</p>
            <a href="/sql-playground" style="display: inline-block; background: linear-gradient(135deg, #667eea, #764ba2); color: white; padding: 18px 40px; border-radius: 50px; text-decoration: none; font-weight: 700; font-size: 1.2em; margin-top: 20px;">
              üóÑÔ∏è Abrir SQL Playground
            </a>
          </div>
        </section>

        <!-- Slide 24 ‚Äî Resumen -->
        <section>
          <h2><span class="icon">üìö</span>Resumen de la Clase 2</h2>
          <div class="two-col">
            <div>
              <h3 style="color: #667eea;">Conceptos Avanzados</h3>
              <ul style="text-align: left; font-size: 0.85em;">
                <li>‚úÖ JOINs (INNER, LEFT)</li>
                <li>‚úÖ Integridad referencial</li>
                <li>‚úÖ Normalizaci√≥n (1FN, 2FN, 3FN)</li>
                <li>‚úÖ Propiedades ACID</li>
                <li>‚úÖ Dise√±o de bases de datos</li>
              </ul>
            </div>
            <div>
              <h3 style="color: #764ba2;">DDL y Administraci√≥n</h3>
              <ul style="text-align: left; font-size: 0.85em;">
                <li>‚úÖ CREATE TABLE</li>
                <li>‚úÖ INSERT, UPDATE, DELETE</li>
                <li>‚úÖ √çndices</li>
                <li>‚úÖ Vistas (Views)</li>
                <li>‚úÖ Transacciones</li>
                <li>‚úÖ Buenas pr√°cticas</li>
              </ul>
            </div>
          </div>
        </section>

        <!-- Slide 25 ‚Äî Fin -->
        <section data-background-gradient="linear-gradient(135deg, #667eea 0%, #764ba2 100%)">
          <h1 style="color: white;">¬°Excelente trabajo!</h1>
          <p style="color: white; font-size: 1.3em; margin: 30px 0;">Has completado Bases de Datos Relacionales - Clase 2</p>
          <div style="background: rgba(255,255,255,0.15); padding: 25px; border-radius: 15px; margin: 30px auto; max-width: 600px;">
            <p style="color: white; font-size: 1.1em; margin-bottom: 15px;">Sigue practicando con el SQL Playground</p>
            <p style="color: rgba(255,255,255,0.9); font-size: 0.95em;">30 ejercicios para dominar SQL</p>
          </div>
          <div style="margin-top: 50px;">
            <a href="/sql-playground" style="display: inline-block; background: white; color: #667eea; padding: 18px 40px; border-radius: 50px; text-decoration: none; font-weight: 700; font-size: 1.1em; margin: 10px;">
              üöÄ Ir al SQL Playground
            </a>
            <a href="../index.html" style="display: inline-block; background: rgba(255,255,255,0.2); color: white; padding: 18px 40px; border-radius: 50px; text-decoration: none; font-weight: 700; font-size: 1.1em; margin: 10px; border: 2px solid white;">
              ‚Üê Volver al Inicio
            </a>
          </div>
        </section>

      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/reveal.js@5/dist/reveal.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@5/plugin/highlight/highlight.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@5/plugin/notes/notes.js"></script>
    <script>
      Reveal.initialize({
        hash: true,
        slideNumber: 'c/t',
        showSlideNumber: 'all',
        transition: 'slide',
        plugins: [ RevealHighlight, RevealNotes ]
      });
    </script>
  </body>
</html>
