<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bases de Datos Relacionales ‚Äî Clase 2: JOINs y SQL Avanzado</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="512x512" href="../favicon.png">
    <link rel="icon" type="image/png" sizes="192x192" href="../favicon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../favicon.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../favicon.png">
    <link rel="apple-touch-icon" href="../favicon.png">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5/dist/reveal.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5/dist/theme/white.css" id="theme">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5/plugin/highlight/monokai.css">
    <link rel="stylesheet" href="styles.css">
    <style>
      .btn-volver {
        position: fixed;
        top: 20px;
        left: 20px;
        background: rgba(255,255,255,0.95);
        color: #667eea;
        padding: 10px 20px;
        border-radius: 20px;
        text-decoration: none;
        font-weight: 600;
        z-index: 1000;
        box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        transition: all 0.3s ease;
      }
      .btn-volver:hover {
        background: #667eea;
        color: white;
      }
    </style>
  </head>
  <body>
    <!-- Verificaci√≥n de autenticaci√≥n -->
    <script src="../auth-check.js"></script>

    <a href="../index.html" class="btn-volver">‚Üê Inicio</a>

    <div class="reveal">
      <div class="slides">
        
        <!-- Slide 1 ‚Äî Portada -->
        <section data-background-gradient="linear-gradient(135deg, #667eea 0%, #764ba2 100%)">
          <h1 class="grad-text">Bases de Datos Relacionales</h1>
          <p class="subtitle" style="color: #0d47a1; font-size: 1.3em; background: transparent; padding: 15px 30px; border-radius: 0; display: inline-block; margin-top: 20px; text-shadow: 2px 2px 4px rgba(255,255,255,0.8);">Clase 2: JOINs, Normalizaci√≥n y SQL Avanzado</p>
          <p style="color: #0d47a1; margin-top: 40px; font-size: 1em; background: transparent; padding: 15px 30px; border-radius: 0; display: inline-block;">
            <span class="pill xml">Teor√≠a Avanzada</span>
            <span class="pill xml">JOINs</span>
            <span class="pill xml">DDL</span>
          </p>
        </section>

        <!-- Slide 2 ‚Äî Repaso Clase Anterior -->
        <section>
          <h2><span class="icon">üìö</span>Repaso: Clase 1</h2>
          <div class="two-col">
            <div>
              <h3 style="color: #667eea;">Vimos:</h3>
              <ul style="text-align: left; font-size: 0.85em;">
                <li>‚úÖ Fundamentos de BBDD</li>
                <li>‚úÖ Modelo relacional</li>
                <li>‚úÖ Claves y relaciones</li>
                <li>‚úÖ SELECT, WHERE, ORDER BY</li>
                <li>‚úÖ Funciones de agregaci√≥n</li>
                <li>‚úÖ GROUP BY</li>
              </ul>
            </div>
            <div>
              <h3 style="color: #764ba2;">Hoy veremos:</h3>
              <ul style="text-align: left; font-size: 0.85em;">
                <li>üîó JOINs entre tablas</li>
                <li>üéØ Normalizaci√≥n</li>
                <li>üî¨ Propiedades ACID</li>
                <li>üèóÔ∏è DDL (CREATE, INSERT, UPDATE, DELETE)</li>
                <li>‚ö° √çndices y optimizaci√≥n</li>
                <li>üëÅÔ∏è Vistas y transacciones</li>
              </ul>
            </div>
          </div>
        </section>

        <!-- Slide 3 ‚Äî JOINs Introducci√≥n Mejorado -->
        <section>
          <h2><span class="icon">üîó</span>JOINs: Unir Tablas Relacionadas</h2>
          <div class="definition-box">
            <p><strong>JOIN</strong> permite combinar filas de dos o m√°s tablas bas√°ndose en una columna relacionada</p>
          </div>
          <div class="fragment" style="margin-top: 30px;">
            <h3>¬øPor qu√© necesitamos JOINs?</h3>
            <ul style="text-align: left; max-width: 800px; margin: 20px auto; font-size: 0.9em;">
              <li class="fragment">üì¶ Los datos est√°n distribuidos en m√∫ltiples tablas (normalizaci√≥n)</li>
              <li class="fragment">üîë Las tablas se relacionan mediante claves for√°neas</li>
              <li class="fragment">üìä Necesitamos combinar informaci√≥n de diferentes tablas en una sola consulta</li>
            </ul>
          </div>
          <p class="fragment tip-box" style="margin-top: 25px;">
            <strong>Ejemplo:</strong> Unir la tabla "pelicula" con "categoria" para ver el nombre de la categor√≠a en lugar de solo su ID
          </p>
        </section>

        <!-- Slide 3.5 ‚Äî Tipos de JOINs con Diagramas de Venn -->
        <section>
          <h2><span class="icon">üîó</span>Tipos de JOINs</h2>
          <div class="two-col" style="margin-top: 40px; gap: 50px;">
            <div class="fragment">
              <h3 style="color: #667eea; margin-bottom: 20px;">INNER JOIN</h3>
              <svg width="200" height="150" style="margin: 20px auto; display: block;">
                <!-- C√≠rculo izquierdo (Tabla A) -->
                <circle cx="70" cy="75" r="50" fill="#667eea" opacity="0.3" stroke="#667eea" stroke-width="3"/>
                <!-- C√≠rculo derecho (Tabla B) -->
                <circle cx="130" cy="75" r="50" fill="#764ba2" opacity="0.3" stroke="#764ba2" stroke-width="3"/>
                <!-- Intersecci√≥n -->
                <path d="M 100 35 A 50 50 0 0 1 100 115 A 50 50 0 0 1 100 35" fill="#ffa726" opacity="0.9"/>
                <!-- Etiquetas -->
                <text x="45" y="80" fill="white" font-size="14" font-weight="bold">A</text>
                <text x="155" y="80" fill="white" font-size="14" font-weight="bold">B</text>
                <text x="95" y="80" fill="white" font-size="16" font-weight="bold">‚úì</text>
              </svg>
              <p style="font-size: 0.85em; color: #666; margin-top: 10px;">
                ‚úÖ Solo registros que <strong>coinciden en ambas tablas</strong>
              </p>
            </div>
            
            <div class="fragment">
              <h3 style="color: #667eea; margin-bottom: 20px;">LEFT JOIN</h3>
              <svg width="200" height="150" style="margin: 20px auto; display: block;">
                <!-- C√≠rculo izquierdo completo (Tabla A) -->
                <circle cx="70" cy="75" r="50" fill="#667eea" opacity="0.7" stroke="#667eea" stroke-width="3"/>
                <!-- C√≠rculo derecho (Tabla B) - solo borde -->
                <circle cx="130" cy="75" r="50" fill="none" stroke="#764ba2" stroke-width="3" stroke-dasharray="5,5"/>
                <!-- Intersecci√≥n -->
                <path d="M 100 35 A 50 50 0 0 1 100 115 A 50 50 0 0 1 100 35" fill="#ffa726" opacity="0.9"/>
                <!-- Etiquetas -->
                <text x="45" y="80" fill="white" font-size="14" font-weight="bold">A</text>
                <text x="155" y="50" fill="#764ba2" font-size="14" font-weight="bold">B</text>
                <text x="95" y="80" fill="white" font-size="16" font-weight="bold">‚úì</text>
              </svg>
              <p style="font-size: 0.85em; color: #666; margin-top: 10px;">
                ‚úÖ <strong>Todos</strong> los de la tabla izquierda + coincidencias
              </p>
            </div>
          </div>
          <p class="fragment tip-box" style="margin-top: 30px;">
            Tambi√©n existen RIGHT JOIN y FULL OUTER JOIN, pero INNER y LEFT son los m√°s usados
          </p>
        </section>

        <!-- Slide 4 ‚Äî INNER JOIN Explicaci√≥n Detallada -->
        <section>
          <h2><span class="icon">üîó</span>INNER JOIN - Explicaci√≥n</h2>
          <div class="definition-box">
            <p><strong>INNER JOIN:</strong> Devuelve solo las filas que tienen coincidencias en AMBAS tablas</p>
          </div>
          <div style="margin-top: 30px;">
            <h3 style="color: #667eea;">Sintaxis:</h3>
            <div class="code-example">
              <pre><code class="sql">SELECT columnas
FROM tabla_a
INNER JOIN tabla_b ON tabla_a.clave = tabla_b.clave;</code></pre>
            </div>
          </div>
          <div class="fragment" style="margin-top: 25px;">
            <h3>üìã Ejemplo pr√°ctico:</h3>
            <div class="two-col" style="font-size: 0.75em; gap: 30px;">
              <div>
                <h4>Tabla: pelicula</h4>
                <table style="font-size: 1em;">
                  <tr style="background: #667eea; color: white;">
                    <th>pelicula_id</th>
                    <th>titulo</th>
                    <th>categoria_id</th>
                  </tr>
                  <tr><td>1</td><td>Matrix</td><td>3</td></tr>
                  <tr><td>2</td><td>Toy Story</td><td>1</td></tr>
                  <tr><td>3</td><td>Titanic</td><td>5</td></tr>
                  <tr style="background: #ffcdd2;"><td>4</td><td>Sin Cat</td><td>NULL</td></tr>
                </table>
              </div>
              <div>
                <h4>Tabla: categoria</h4>
                <table style="font-size: 1em;">
                  <tr style="background: #764ba2; color: white;">
                    <th>categoria_id</th>
                    <th>nombre</th>
                  </tr>
                  <tr><td>1</td><td>Animaci√≥n</td></tr>
                  <tr><td>3</td><td>Ciencia Ficci√≥n</td></tr>
                  <tr><td>5</td><td>Romance</td></tr>
                  <tr style="background: #ffcdd2;"><td>9</td><td>Sin Pel√≠culas</td></tr>
                </table>
              </div>
            </div>
          </div>
          <p class="fragment warning-box" style="margin-top: 20px;">
            ‚ö†Ô∏è "Sin Cat" y "Sin Pel√≠culas" NO aparecer√°n en el resultado (no hay coincidencias)
          </p>
        </section>

        <!-- Slide 4.5 ‚Äî INNER JOIN Resultado -->
        <section>
          <h2><span class="icon">‚úÖ</span>INNER JOIN - Resultado</h2>
          <div class="code-example">
            <pre><code class="sql">SELECT p.titulo, c.nombre AS categoria 
FROM pelicula p
INNER JOIN categoria c ON p.categoria_id = c.categoria_id;</code></pre>
          </div>
          <div class="fragment" style="margin-top: 25px;">
            <h3>üìä Resultado:</h3>
            <table style="font-size: 0.85em; margin: 20px auto; max-width: 600px;">
              <tr style="background: #ffa726; color: white;">
                <th>titulo</th>
                <th>categoria</th>
              </tr>
              <tr><td>Matrix</td><td>Ciencia Ficci√≥n</td></tr>
              <tr><td>Toy Story</td><td>Animaci√≥n</td></tr>
              <tr><td>Titanic</td><td>Romance</td></tr>
            </table>
            <p style="color: #666; font-size: 0.9em; margin-top: 20px;">
              ‚úÖ Solo 3 filas (las que tienen coincidencias en ambas tablas)
            </p>
          </div>
          <div class="fragment" style="margin-top: 30px;">
            <div class="two-col" style="gap: 20px;">
              <div class="tip-box">
                <strong>Alias:</strong> <code>p</code> para pelicula, <code>c</code> para categoria (m√°s legible)
              </div>
              <div class="success-box">
                <strong>ON:</strong> Define la condici√≥n de uni√≥n (qu√© columnas relacionar)
              </div>
            </div>
          </div>
        </section>

        <!-- Slide 5 ‚Äî LEFT JOIN Explicaci√≥n Detallada -->
        <section>
          <h2><span class="icon">‚¨ÖÔ∏è</span>LEFT JOIN - Explicaci√≥n</h2>
          <div class="definition-box">
            <p><strong>LEFT JOIN:</strong> Devuelve TODAS las filas de la tabla izquierda + las coincidencias de la derecha (NULL si no hay coincidencia)</p>
          </div>
          <div style="margin-top: 30px;">
            <h3 style="color: #667eea;">Sintaxis:</h3>
            <div class="code-example">
              <pre><code class="sql">SELECT columnas
FROM tabla_a
LEFT JOIN tabla_b ON tabla_a.clave = tabla_b.clave;</code></pre>
            </div>
          </div>
          <div class="fragment" style="margin-top: 25px;">
            <h3>üìã Mismo ejemplo con LEFT JOIN:</h3>
            <div class="code-example">
              <pre><code class="sql">SELECT p.titulo, c.nombre AS categoria 
FROM pelicula p
LEFT JOIN categoria c ON p.categoria_id = c.categoria_id;</code></pre>
            </div>
          </div>
          <div class="fragment" style="margin-top: 20px;">
            <table style="font-size: 0.8em; margin: 20px auto; max-width: 600px;">
              <tr style="background: #ffa726; color: white;">
                <th>titulo</th>
                <th>categoria</th>
              </tr>
              <tr><td>Matrix</td><td>Ciencia Ficci√≥n</td></tr>
              <tr><td>Toy Story</td><td>Animaci√≥n</td></tr>
              <tr><td>Titanic</td><td>Romance</td></tr>
              <tr style="background: #fff3e0;"><td>Sin Cat</td><td style="color: #999;">NULL</td></tr>
            </table>
            <p style="color: #666; font-size: 0.9em; margin-top: 20px;">
              ‚úÖ 4 filas - <strong>todas las pel√≠culas</strong> (incluso "Sin Cat" con NULL)
            </p>
          </div>
        </section>

        <!-- Slide 5.5 ‚Äî Cu√°ndo usar cada JOIN -->
        <section>
          <h2><span class="icon">ü§î</span>¬øCu√°ndo usar cada JOIN?</h2>
          <div class="two-col" style="margin-top: 40px; gap: 40px;">
            <div class="fragment">
              <div style="background: #e3f2fd; padding: 25px; border-radius: 15px; border-left: 5px solid #667eea;">
                <h3 style="color: #667eea; margin-bottom: 15px;">‚≠ï INNER JOIN</h3>
                <ul style="text-align: left; font-size: 0.85em; line-height: 1.8;">
                  <li>‚úÖ Cuando solo quieres datos <strong>completos</strong></li>
                  <li>‚úÖ Ejemplo: "Pel√≠culas CON categor√≠a"</li>
                  <li>‚úÖ Ejemplo: "Alquileres con cliente v√°lido"</li>
                  <li>‚úÖ Es el m√°s restrictivo (menos filas)</li>
                </ul>
              </div>
            </div>
            
            <div class="fragment">
              <div style="background: #f3e5f5; padding: 25px; border-radius: 15px; border-left: 5px solid #764ba2;">
                <h3 style="color: #764ba2; margin-bottom: 15px;">‚¨ÖÔ∏è LEFT JOIN</h3>
                <ul style="text-align: left; font-size: 0.85em; line-height: 1.8;">
                  <li>‚úÖ Cuando quieres <strong>todo de la izquierda</strong></li>
                  <li>‚úÖ Ejemplo: "Todas las pel√≠culas (con o sin categor√≠a)"</li>
                  <li>‚úÖ Ejemplo: "Todos los clientes (alquilaron o no)"</li>
                  <li>‚úÖ Permite detectar datos faltantes (NULL)</li>
                </ul>
              </div>
            </div>
          </div>
          <p class="fragment tip-box" style="margin-top: 40px;">
            üí° <strong>Regla pr√°ctica:</strong> Si dices "TODOS los X..." probablemente necesitas LEFT JOIN
          </p>
        </section>

        <!-- Slide 6 ‚Äî JOIN con 3 tablas (Ejemplo Videoclub) -->
        <section>
          <h2><span class="icon">üé¨</span>JOIN con M√∫ltiples Tablas</h2>
          <p style="font-size: 0.9em; color: #666; margin-bottom: 30px;">
            Podemos unir <strong>m√°s de 2 tablas</strong> en una sola consulta
          </p>
          <div class="code-example">
            <pre><code class="sql">-- ¬øQu√© pel√≠culas alquil√≥ cada cliente?
SELECT 
  c.nombre,
  c.apellido,
  p.titulo,
  a.fecha_alquiler,
  a.precio_pagado
FROM alquiler a
INNER JOIN cliente c ON a.cliente_id = c.cliente_id
INNER JOIN pelicula p ON a.pelicula_id = p.pelicula_id
ORDER BY a.fecha_alquiler DESC
LIMIT 5;</code></pre>
          </div>
          <div class="fragment" style="margin-top: 25px;">
            <table style="font-size: 0.7em; margin: 20px auto;">
              <tr style="background: #ffa726; color: white;">
                <th>nombre</th>
                <th>apellido</th>
                <th>titulo</th>
                <th>fecha_alquiler</th>
                <th>precio_pagado</th>
              </tr>
              <tr><td>Juan</td><td>Garc√≠a</td><td>Matrix</td><td>2024-01-20</td><td>3.99</td></tr>
              <tr><td>Mar√≠a</td><td>L√≥pez</td><td>Toy Story</td><td>2024-01-19</td><td>2.99</td></tr>
              <tr><td>Pedro</td><td>Mart√≠nez</td><td>Titanic</td><td>2024-01-18</td><td>3.49</td></tr>
            </table>
          </div>
          <p class="fragment success-box" style="margin-top: 20px;">
            ‚úÖ Unimos 3 tablas: alquiler ‚Üí cliente + pelicula
          </p>
        </section>

        <!-- Slide 7 ‚Äî Pr√°ctica JOIN -->
        <section>
          <h2><span class="icon">üí™</span>Ejercicio: Pel√≠culas por Actor</h2>
          <p style="font-size: 0.9em; color: #666; margin-bottom: 20px;">
            <strong>Objetivo:</strong> Listar todos los actores con sus pel√≠culas
          </p>
          <div class="fragment">
            <h3 style="color: #667eea; font-size: 1em;">Tablas involucradas:</h3>
            <div class="three-col" style="font-size: 0.7em; gap: 15px; margin: 20px 0;">
              <div style="background: #e3f2fd; padding: 15px; border-radius: 10px;">
                <strong>actor</strong><br>
                actor_id, nombre, apellido
              </div>
              <div style="background: #fce4ec; padding: 15px; border-radius: 10px;">
                <strong>pelicula_actor</strong><br>
                actor_id, pelicula_id
              </div>
              <div style="background: #f3e5f5; padding: 15px; border-radius: 10px;">
                <strong>pelicula</strong><br>
                pelicula_id, titulo
              </div>
            </div>
          </div>
          <div class="fragment" style="margin-top: 25px;">
            <div class="code-example">
              <pre><code class="sql">SELECT 
  a.nombre,
  a.apellido,
  p.titulo
FROM actor a
INNER JOIN pelicula_actor pa ON a.actor_id = pa.actor_id
INNER JOIN pelicula p ON pa.pelicula_id = p.pelicula_id
ORDER BY a.apellido, p.titulo;</code></pre>
            </div>
          </div>
          <p class="fragment tip-box" style="margin-top: 20px;">
            üí° Relaci√≥n N:M necesita una <strong>tabla intermedia</strong> (pelicula_actor)
          </p>
        </section>

        <!-- Slide 5 ‚Äî Integridad Referencial -->
        <section>
          <h2><span class="icon">üõ°Ô∏è</span>Integridad Referencial</h2>
          <div class="definition-box">
            <p>Asegura que las <strong>relaciones entre tablas</strong> sean v√°lidas</p>
          </div>
          <div class="fragment" style="margin-top: 30px;">
            <h3>Reglas:</h3>
            <ul style="text-align: left; max-width: 800px; margin: 20px auto;">
              <li class="fragment">‚úÖ No puedes insertar un alquiler con <code>cliente_id = 999</code> si el cliente 999 no existe</li>
              <li class="fragment">‚úÖ No puedes borrar un cliente si tiene alquileres asociados (sin antes borrar los alquileres)</li>
              <li class="fragment">‚úÖ La base de datos garantiza consistencia de datos</li>
            </ul>
          </div>
          <div class="fragment success-box" style="margin-top: 25px;">
            <p><strong>Ventaja:</strong> La base de datos protege tus datos autom√°ticamente</p>
          </div>
        </section>

        <!-- Slide 6 ‚Äî Normalizaci√≥n Introducci√≥n -->
        <section>
          <h2><span class="icon">üéØ</span>Normalizaci√≥n de Bases de Datos</h2>
          <div class="definition-box">
            <p><strong>Normalizaci√≥n:</strong> Proceso de organizar datos para <strong>evitar redundancia</strong> y <strong>mejorar la integridad</strong></p>
          </div>
          <div class="fragment" style="margin-top: 30px;">
            <h3>¬øPor qu√© normalizar?</h3>
            <ul style="text-align: left; max-width: 800px; margin: 20px auto; font-size: 0.9em;">
              <li class="fragment">‚ùå <strong>Sin normalizaci√≥n:</strong> Datos duplicados, dif√≠cil de mantener, inconsistencias</li>
              <li class="fragment">‚úÖ <strong>Con normalizaci√≥n:</strong> Sin redundancia, f√°cil actualizaci√≥n, datos consistentes</li>
            </ul>
          </div>
          <div class="fragment" style="margin-top: 30px;">
            <h3>Formas Normales (FN):</h3>
            <ul style="text-align: left; max-width: 800px; margin: 20px auto; font-size: 0.9em;">
              <li class="fragment"><strong>1FN:</strong> Cada columna tiene un solo valor (valores at√≥micos, no listas)</li>
              <li class="fragment"><strong>2FN:</strong> Cumple 1FN + cada columna depende completamente de la clave primaria</li>
              <li class="fragment"><strong>3FN:</strong> Cumple 2FN + no hay dependencias transitivas (columnas que dependen de otras columnas no clave)</li>
            </ul>
          </div>
          <p class="fragment tip-box" style="margin-top: 25px;">
            üí° La mayor√≠a de las bases de datos bien dise√±adas est√°n en 3FN
          </p>
        </section>

        <!-- Slide 7 ‚Äî Ejemplo de Normalizaci√≥n -->
        <section>
          <h2><span class="icon">‚ùå</span>Tabla NO Normalizada (Violaci√≥n de 1FN)</h2>
          <table style="font-size: 0.7em; margin: 20px auto;">
            <tr style="background: #e53935; color: white;">
              <th>pedido_id</th>
              <th>cliente</th>
              <th>email</th>
              <th>productos</th>
              <th>precios</th>
            </tr>
            <tr><td>1</td><td>Juan P√©rez</td><td>juan@email.com</td><td>Laptop, Mouse</td><td>800, 20</td></tr>
            <tr><td>2</td><td>Juan P√©rez</td><td>juan@email.com</td><td>Teclado</td><td>50</td></tr>
            <tr><td>3</td><td>Mar√≠a L√≥pez</td><td>maria@email.com</td><td>Monitor, HDMI</td><td>200, 15</td></tr>
          </table>
          <div class="fragment" style="margin-top: 20px;">
            <h3>‚ùå M√∫ltiples problemas:</h3>
            <ul style="text-align: left; max-width: 800px; margin: 20px auto; font-size: 0.85em;">
              <li><strong>Violaci√≥n 1FN:</strong> Columnas "productos" y "precios" contienen listas (no son valores at√≥micos)</li>
              <li><strong>Redundancia:</strong> Datos de "Juan P√©rez" repetidos 2 veces</li>
              <li><strong>Anomal√≠a de actualizaci√≥n:</strong> Si Juan cambia su email, hay que modificarlo en 2 lugares</li>
              <li><strong>Anomal√≠a de inserci√≥n:</strong> No puedes agregar un cliente sin un pedido</li>
              <li><strong>Anomal√≠a de eliminaci√≥n:</strong> Si borras el pedido 3, pierdes la informaci√≥n de Mar√≠a</li>
            </ul>
          </div>
        </section>

        <!-- Slide 8 ‚Äî Tabla Normalizada -->
        <section>
          <h2><span class="icon">‚úÖ</span>Tablas Normalizadas (3FN)</h2>
          <div class="grid-3" style="font-size: 0.65em;">
            <div>
              <h4 style="color: #667eea;">Tabla: cliente</h4>
              <table>
                <tr style="background: #667eea; color: white;">
                  <th>cliente_id</th>
                  <th>nombre</th>
                  <th>email</th>
                </tr>
                <tr><td>1</td><td>Juan P√©rez</td><td>juan@email.com</td></tr>
                <tr><td>2</td><td>Mar√≠a L√≥pez</td><td>maria@email.com</td></tr>
              </table>
              <p style="font-size: 0.9em; color: #667eea; margin-top: 10px;">‚úÖ Cada cliente una sola vez</p>
            </div>
            <div>
              <h4 style="color: #764ba2;">Tabla: pedido</h4>
              <table>
                <tr style="background: #764ba2; color: white;">
                  <th>pedido_id</th>
                  <th>cliente_id</th>
                  <th>fecha</th>
                </tr>
                <tr><td>1</td><td>1</td><td>2024-01-15</td></tr>
                <tr><td>2</td><td>1</td><td>2024-01-20</td></tr>
                <tr><td>3</td><td>2</td><td>2024-01-22</td></tr>
              </table>
              <p style="font-size: 0.9em; color: #764ba2; margin-top: 10px;">‚úÖ Relaciona cliente con pedidos</p>
            </div>
            <div>
              <h4 style="color: #ffa726;">Tabla: detalle_pedido</h4>
              <table>
                <tr style="background: #ffa726; color: white;">
                  <th>pedido_id</th>
                  <th>producto</th>
                  <th>precio</th>
                </tr>
                <tr><td>1</td><td>Laptop</td><td>800</td></tr>
                <tr><td>1</td><td>Mouse</td><td>20</td></tr>
                <tr><td>2</td><td>Teclado</td><td>50</td></tr>
                <tr><td>3</td><td>Monitor</td><td>200</td></tr>
                <tr><td>3</td><td>HDMI</td><td>15</td></tr>
              </table>
              <p style="font-size: 0.9em; color: #ffa726; margin-top: 10px;">‚úÖ Un producto por fila (1FN)</p>
            </div>
          </div>
          <p class="fragment success-box" style="margin-top: 25px;">
            ‚úÖ Sin redundancia ¬∑ ‚úÖ F√°cil de actualizar ¬∑ ‚úÖ Sin anomal√≠as ¬∑ ‚úÖ Estructura escalable
          </p>
        </section>

        <!-- Slide 9 ‚Äî Dise√±o de BD: Pasos -->
        <section>
          <h2><span class="icon">üìê</span>Dise√±o de Bases de Datos</h2>
          <div class="steps-container">
            <div class="step fragment">
              <div class="step-number">1</div>
              <div class="step-content">
                <h4>An√°lisis de Requisitos</h4>
                <p>¬øQu√© datos necesitamos guardar?</p>
              </div>
            </div>
            <div class="step fragment">
              <div class="step-number">2</div>
              <div class="step-content">
                <h4>Modelo Entidad-Relaci√≥n (ER)</h4>
                <p>Diagramar entidades y relaciones</p>
              </div>
            </div>
            <div class="step fragment">
              <div class="step-number">3</div>
              <div class="step-content">
                <h4>Modelo Relacional</h4>
                <p>Convertir a tablas y claves</p>
              </div>
            </div>
            <div class="step fragment">
              <div class="step-number">4</div>
              <div class="step-content">
                <h4>Normalizaci√≥n</h4>
                <p>Optimizar estructura (evitar redundancia)</p>
              </div>
            </div>
            <div class="step fragment">
              <div class="step-number">5</div>
              <div class="step-content">
                <h4>Implementaci√≥n SQL</h4>
                <p>CREATE TABLE, INSERT, etc.</p>
              </div>
            </div>
          </div>
        </section>

        <!-- Slide 10 ‚Äî Ventajas del Modelo Relacional -->
        <section>
          <h2><span class="icon">‚≠ê</span>Ventajas de las Bases de Datos Relacionales</h2>
          <div class="grid-2" style="margin-top: 30px;">
            <div class="advantage-card fragment">
              <div style="font-size: 2.5em;">üéØ</div>
              <h4>Estructura Clara</h4>
              <p>Datos organizados en tablas f√°ciles de entender</p>
            </div>
            <div class="advantage-card fragment">
              <div style="font-size: 2.5em;">üîí</div>
              <h4>Integridad</h4>
              <p>Reglas que aseguran datos consistentes</p>
            </div>
            <div class="advantage-card fragment">
              <div style="font-size: 2.5em;">‚ö°</div>
              <h4>Rendimiento</h4>
              <p>Consultas optimizadas con √≠ndices</p>
            </div>
            <div class="advantage-card fragment">
              <div style="font-size: 2.5em;">üîê</div>
              <h4>Seguridad</h4>
              <p>Control de acceso por usuario</p>
            </div>
            <div class="advantage-card fragment">
              <div style="font-size: 2.5em;">üìä</div>
              <h4>ACID</h4>
              <p>Transacciones confiables</p>
            </div>
            <div class="advantage-card fragment">
              <div style="font-size: 2.5em;">üåç</div>
              <h4>Est√°ndar SQL</h4>
              <p>Mismo lenguaje en todas las BBDD</p>
            </div>
          </div>
        </section>

        <!-- Slide 11 ‚Äî ACID -->
        <section>
          <h2><span class="icon">üî¨</span>Propiedades ACID</h2>
          <div class="definition-box">
            <p><strong>ACID:</strong> Garant√≠as que ofrecen las bases de datos relacionales para asegurar la confiabilidad de las transacciones</p>
          </div>
          <div class="grid-2 fragment" style="margin-top: 30px; gap: 20px;">
            <div class="acid-box">
              <h3>A - Atomicidad</h3>
              <p style="margin-bottom: 15px;"><strong>"Todo o nada"</strong> - Si una parte falla, todo se revierte</p>
              <div style="background: #e3f2fd; padding: 15px; border-radius: 10px; margin-top: 10px;">
                <p style="font-size: 0.85em; color: #333; text-align: left;"><strong>Ejemplo:</strong> Transferencia bancaria de 100‚Ç¨</p>
                <ul style="text-align: left; font-size: 0.8em; color: #666; margin-top: 10px;">
                  <li>1Ô∏è‚É£ Restar 100‚Ç¨ de cuenta A</li>
                  <li>2Ô∏è‚É£ Sumar 100‚Ç¨ a cuenta B</li>
                  <li>‚ö†Ô∏è Si falla el paso 2, se revierte el paso 1</li>
                  <li>‚úÖ No se pierde dinero</li>
                </ul>
              </div>
            </div>
            <div class="acid-box">
              <h3>C - Consistencia</h3>
              <p style="margin-bottom: 15px;"><strong>Reglas siempre v√°lidas</strong> - Los datos cumplen todas las restricciones</p>
              <div style="background: #f3e5f5; padding: 15px; border-radius: 10px; margin-top: 10px;">
                <p style="font-size: 0.85em; color: #333; text-align: left;"><strong>Ejemplo:</strong> Alquilar una pel√≠cula</p>
                <ul style="text-align: left; font-size: 0.8em; color: #666; margin-top: 10px;">
                  <li>‚úÖ El cliente_id debe existir en tabla cliente</li>
                  <li>‚úÖ El pelicula_id debe existir en tabla pelicula</li>
                  <li>‚úÖ El precio_pagado debe ser > 0</li>
                  <li>‚õî No puedes insertar datos inv√°lidos</li>
                </ul>
              </div>
            </div>
            <div class="acid-box">
              <h3>I - Aislamiento</h3>
              <p style="margin-bottom: 15px;"><strong>Transacciones independientes</strong> - No se interfieren entre s√≠</p>
              <div style="background: #fff3e0; padding: 15px; border-radius: 10px; margin-top: 10px;">
                <p style="font-size: 0.85em; color: #333; text-align: left;"><strong>Ejemplo:</strong> Dos usuarios comprando la √∫ltima entrada</p>
                <ul style="text-align: left; font-size: 0.8em; color: #666; margin-top: 10px;">
                  <li>üë§ Usuario A: Consulta ‚Üí 1 entrada disponible</li>
                  <li>üë§ Usuario B: Consulta ‚Üí 1 entrada disponible</li>
                  <li>‚úÖ Solo UNO podr√° comprarla (locks)</li>
                  <li>‚õî El otro ver√° "agotado"</li>
                </ul>
              </div>
            </div>
            <div class="acid-box">
              <h3>D - Durabilidad</h3>
              <p style="margin-bottom: 15px;"><strong>Cambios permanentes</strong> - Una vez confirmado, no se pierde</p>
              <div style="background: #e8f5e9; padding: 15px; border-radius: 10px; margin-top: 10px;">
                <p style="font-size: 0.85em; color: #333; text-align: left;"><strong>Ejemplo:</strong> Confirmar un pedido</p>
                <ul style="text-align: left; font-size: 0.8em; color: #666; margin-top: 10px;">
                  <li>‚úÖ Se guarda en disco (no solo en RAM)</li>
                  <li>üíæ Aunque se vaya la luz, el pedido est√° guardado</li>
                  <li>üîÑ Sistema se recupera autom√°ticamente</li>
                  <li>‚úÖ Los datos no se pierden nunca</li>
                </ul>
              </div>
            </div>
          </div>
        </section>

        <!-- Slide 12 ‚Äî Tipos de Datos SQL -->
        <section>
          <h2><span class="icon">üè∑Ô∏è</span>Tipos de Datos en SQL</h2>
          <div class="grid-3" style="font-size: 0.8em; margin-top: 30px;">
            <div class="datatype-box fragment">
              <h4>üìä Num√©ricos</h4>
              <ul style="text-align: left; font-size: 0.9em;">
                <li><code>INTEGER</code></li>
                <li><code>DECIMAL(10,2)</code></li>
                <li><code>FLOAT</code></li>
                <li><code>SERIAL</code> (auto-incremento)</li>
              </ul>
            </div>
            <div class="datatype-box fragment">
              <h4>üìù Texto</h4>
              <ul style="text-align: left; font-size: 0.9em;">
                <li><code>VARCHAR(255)</code></li>
                <li><code>TEXT</code></li>
                <li><code>CHAR(10)</code></li>
              </ul>
            </div>
            <div class="datatype-box fragment">
              <h4>üìÖ Fecha y Hora</h4>
              <ul style="text-align: left; font-size: 0.9em;">
                <li><code>DATE</code></li>
                <li><code>TIME</code></li>
                <li><code>TIMESTAMP</code></li>
              </ul>
            </div>
            <div class="datatype-box fragment">
              <h4>‚úÖ Booleano</h4>
              <ul style="text-align: left; font-size: 0.9em;">
                <li><code>BOOLEAN</code></li>
                <li>true / false</li>
              </ul>
            </div>
          </div>
        </section>

        <!-- Slide 13 ‚Äî CREATE TABLE -->
        <section>
          <h2><span class="icon">üèóÔ∏è</span>CREATE TABLE: Crear Tablas</h2>
          <div class="definition-box">
            <p><strong>CREATE TABLE:</strong> Comando DDL (Data Definition Language) para definir la estructura de una tabla</p>
          </div>
          <div class="code-example fragment" style="margin-top: 25px;">
            <pre><code class="sql">CREATE TABLE cliente (
    cliente_id SERIAL PRIMARY KEY,
    nombre VARCHAR(100) NOT NULL,
    apellido VARCHAR(100) NOT NULL,
    email VARCHAR(150) UNIQUE NOT NULL,
    fecha_registro TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    activo BOOLEAN DEFAULT true
);</code></pre>
          </div>
          <div class="fragment" style="margin-top: 25px;">
            <h3 style="font-size: 1.1em;">üìã Explicaci√≥n l√≠nea por l√≠nea:</h3>
            <ul style="text-align: left; max-width: 850px; margin: 15px auto; font-size: 0.85em; line-height: 1.8;">
              <li><code>cliente_id SERIAL PRIMARY KEY</code> ‚Üí ID autoincremental, clave primaria √∫nica</li>
              <li><code>nombre VARCHAR(100) NOT NULL</code> ‚Üí Texto hasta 100 caracteres, obligatorio</li>
              <li><code>email VARCHAR(150) UNIQUE NOT NULL</code> ‚Üí Email √∫nico, no puede repetirse</li>
              <li><code>fecha_registro TIMESTAMP DEFAULT CURRENT_TIMESTAMP</code> ‚Üí Fecha/hora actual autom√°tica</li>
              <li><code>activo BOOLEAN DEFAULT true</code> ‚Üí true/false, por defecto true</li>
            </ul>
          </div>
          <p class="fragment tip-box" style="margin-top: 20px;">
            üí° <strong>SERIAL:</strong> Tipo especial que genera IDs autom√°ticamente (1, 2, 3, ...)
          </p>
        </section>

        <!-- Slide 14 ‚Äî INSERT -->
        <section>
          <h2><span class="icon">‚ûï</span>INSERT: Insertar Datos</h2>
          <div class="code-example fragment">
            <pre><code class="sql">INSERT INTO cliente (nombre, apellido, email) 
VALUES ('Juan', 'P√©rez', 'juan@email.com');</code></pre>
          </div>
          <div class="fragment code-example" style="margin-top: 25px;">
            <h4>Insertar m√∫ltiples filas:</h4>
            <pre><code class="sql">INSERT INTO cliente (nombre, apellido, email) 
VALUES 
    ('Mar√≠a', 'Garc√≠a', 'maria@email.com'),
    ('Carlos', 'L√≥pez', 'carlos@email.com'),
    ('Ana', 'Mart√≠nez', 'ana@email.com');</code></pre>
          </div>
          <p class="fragment tip-box" style="margin-top: 20px;">
            No necesitas especificar <code>cliente_id</code> porque es SERIAL (auto-incremento)
          </p>
        </section>

        <!-- Slide 15 ‚Äî UPDATE -->
        <section>
          <h2><span class="icon">‚úèÔ∏è</span>UPDATE: Modificar Datos</h2>
          <div class="code-example fragment">
            <pre><code class="sql">UPDATE cliente 
SET email = 'nuevo_email@email.com' 
WHERE cliente_id = 1;</code></pre>
          </div>
          <div class="fragment warning-box" style="margin-top: 30px;">
            <h3>‚ö†Ô∏è ¬°CUIDADO!</h3>
            <p>Si olvidas el <code>WHERE</code>, actualizar√°s TODAS las filas</p>
            <pre style="background: #fff3cd; color: #856404; padding: 15px; border-radius: 8px; margin-top: 10px;"><code class="sql">-- ‚ùå ESTO CAMBIA TODOS LOS EMAILS
UPDATE cliente SET email = 'mismo@email.com';</code></pre>
          </div>
        </section>

        <!-- Slide 16 ‚Äî DELETE -->
        <section>
          <h2><span class="icon">üóëÔ∏è</span>DELETE: Eliminar Datos</h2>
          <div class="code-example fragment">
            <pre><code class="sql">DELETE FROM cliente 
WHERE cliente_id = 3;</code></pre>
          </div>
          <div class="fragment warning-box" style="margin-top: 30px;">
            <h3>‚ö†Ô∏è ¬°M√ÅS CUIDADO A√öN!</h3>
            <p>Si olvidas el <code>WHERE</code>, borrar√°s TODA la tabla</p>
            <pre style="background: #f8d7da; color: #721c24; padding: 15px; border-radius: 8px; margin-top: 10px;"><code class="sql">-- ‚ùå ESTO BORRA TODOS LOS CLIENTES
DELETE FROM cliente;</code></pre>
          </div>
          <p class="fragment tip-box" style="margin-top: 20px;">
            <strong>Consejo:</strong> Primero haz un SELECT con el WHERE para verificar qu√© vas a eliminar
          </p>
        </section>

        <!-- Slide 17 ‚Äî √çndices -->
        <section>
          <h2><span class="icon">‚ö°</span>√çndices: Acelerar Consultas</h2>
          <div class="definition-box">
            <p><strong>√çndice:</strong> Estructura de datos que permite encontrar filas r√°pidamente sin escanear toda la tabla</p>
            <p style="font-size: 0.9em; margin-top: 10px;">üìñ Similar al √≠ndice de un libro: saltas directamente a la p√°gina que buscas</p>
          </div>
          <div class="fragment" style="margin-top: 30px;">
            <h3>üîç ¬øC√≥mo funcionan?</h3>
            <div class="two-col" style="gap: 30px; margin-top: 20px;">
              <div style="background: #ffebee; padding: 25px; border-radius: 15px;">
                <h4 style="color: #c62828; margin-bottom: 15px;">‚ùå Sin √çndice</h4>
                <p style="font-size: 0.85em; margin-bottom: 15px;"><strong>B√∫squeda secuencial:</strong></p>
                <pre style="background: white; padding: 15px; border-radius: 8px; font-size: 0.75em; text-align: left;">
WHERE email = 'juan@email.com'

1. Revisa fila 1 ‚ùå
2. Revisa fila 2 ‚ùå
3. Revisa fila 3 ‚ùå
...
999,998. Revisa fila 999,998 ‚ùå
999,999. Revisa fila 999,999 ‚úÖ

‚è±Ô∏è Tiempo: 10 segundos</pre>
                <p style="font-size: 2em; margin-top: 10px;">üêå</p>
              </div>
              <div style="background: #e8f5e9; padding: 25px; border-radius: 15px;">
                <h4 style="color: #2e7d32; margin-bottom: 15px;">‚úÖ Con √çndice</h4>
                <p style="font-size: 0.85em; margin-bottom: 15px;"><strong>B√∫squeda optimizada:</strong></p>
                <pre style="background: white; padding: 15px; border-radius: 8px; font-size: 0.75em; text-align: left;">
WHERE email = 'juan@email.com'

1. Consulta √≠ndice (estructura √°rbol)
2. Salta directamente a la fila ‚úÖ

‚è±Ô∏è Tiempo: 0.001 segundos</pre>
                <p style="font-size: 2em; margin-top: 10px;">üöÄ</p>
              </div>
            </div>
          </div>
          <div class="fragment" style="margin-top: 25px;">
            <h3>üíª Crear un √≠ndice:</h3>
            <div class="code-example">
              <pre><code class="sql">-- √çndice en columna email para b√∫squedas r√°pidas
CREATE INDEX idx_cliente_email ON cliente(email);

-- Ahora esta consulta es MUY r√°pida:
SELECT * FROM cliente WHERE email = 'juan@email.com';</code></pre>
            </div>
          </div>
          <p class="fragment warning-box" style="margin-top: 20px;">
            ‚ö†Ô∏è <strong>Compromiso:</strong> Los √≠ndices aceleran SELECT pero ralentizan INSERT/UPDATE (hay que actualizar el √≠ndice)
          </p>
        </section>

        <!-- Slide 18 ‚Äî Vistas (Views) -->
        <section>
          <h2><span class="icon">üëÅÔ∏è</span>Vistas (Views)</h2>
          <div class="definition-box">
            <p><strong>Vista:</strong> Consulta SQL guardada como si fuera una tabla virtual (no almacena datos, solo la consulta)</p>
          </div>
          <div class="fragment" style="margin-top: 30px;">
            <h3>¬øPara qu√© sirven?</h3>
            <ul style="text-align: left; max-width: 800px; margin: 20px auto; font-size: 0.9em;">
              <li>‚úÖ <strong>Simplificar consultas complejas:</strong> Escribes el JOIN una vez, lo usas muchas veces</li>
              <li>‚úÖ <strong>Seguridad:</strong> Ocultar columnas sensibles (contrase√±as, datos privados)</li>
              <li>‚úÖ <strong>Reutilizaci√≥n:</strong> Mismo dato en m√∫ltiples lugares</li>
            </ul>
          </div>
          <div class="fragment" style="margin-top: 25px;">
            <h3>üìù Crear una vista:</h3>
            <div class="code-example">
              <pre><code class="sql">-- Crear vista con pel√≠culas + categor√≠a
CREATE VIEW v_peliculas_completas AS
SELECT 
    p.pelicula_id,
    p.titulo,
    p.a√±o_lanzamiento,
    c.nombre AS categoria,
    p.duracion,
    p.precio_alquiler
FROM pelicula p
INNER JOIN categoria c ON p.categoria_id = c.categoria_id;</code></pre>
            </div>
          </div>
          <div class="fragment" style="margin-top: 25px;">
            <h3>üîç Usar la vista (como si fuera una tabla):</h3>
            <div class="code-example">
              <pre><code class="sql">-- Consulta simple, pero ejecuta el JOIN internamente
SELECT * FROM v_peliculas_completas 
WHERE categoria = 'Acci√≥n' 
ORDER BY a√±o_lanzamiento DESC;</code></pre>
            </div>
          </div>
          <p class="fragment tip-box" style="margin-top: 20px;">
            üí° La vista no ocupa espacio (no guarda datos), solo ejecuta la consulta cuando la llamas
          </p>
        </section>

        <!-- Slide 19 ‚Äî Transacciones -->
        <section>
          <h2><span class="icon">üí≥</span>Transacciones</h2>
          <div class="definition-box">
            <p><strong>Transacci√≥n:</strong> Conjunto de operaciones SQL que se ejecutan como una unidad at√≥mica</p>
            <p style="font-size: 0.9em; margin-top: 10px;">Todo se completa exitosamente ‚úÖ o nada se completa ‚ùå</p>
          </div>
          <div class="fragment" style="margin-top: 30px;">
            <h3>üìã Ejemplo: Transferencia bancaria</h3>
            <div class="two-col" style="gap: 30px; margin-top: 20px;">
              <div>
                <h4 style="color: #2e7d32;">‚úÖ Transacci√≥n exitosa:</h4>
                <div class="code-example">
                  <pre><code class="sql">BEGIN; -- Iniciar transacci√≥n

-- Paso 1: Restar dinero de cuenta A
UPDATE cuenta 
SET saldo = saldo - 100 
WHERE cliente_id = 1;

-- Paso 2: Sumar dinero a cuenta B
UPDATE cuenta 
SET saldo = saldo + 100 
WHERE cliente_id = 2;

COMMIT; -- ‚úÖ Confirmar cambios
-- Ambas operaciones se guardan</code></pre>
                </div>
              </div>
              <div>
                <h4 style="color: #c62828;">‚ùå Transacci√≥n fallida:</h4>
                <div class="code-example">
                  <pre><code class="sql">BEGIN; -- Iniciar transacci√≥n

-- Paso 1: Restar dinero de cuenta A
UPDATE cuenta 
SET saldo = saldo - 100 
WHERE cliente_id = 1;
-- ‚úÖ Ejecutado

-- Paso 2: Error (cuenta B no existe)
UPDATE cuenta 
SET saldo = saldo + 100 
WHERE cliente_id = 999;
-- ‚ùå ERROR!

ROLLBACK; -- üîÑ Deshacer TODO
-- El paso 1 se revierte autom√°ticamente
-- No se pierde dinero</code></pre>
                </div>
              </div>
            </div>
          </div>
          <p class="fragment success-box" style="margin-top: 25px;">
            ‚úÖ <strong>Garant√≠a:</strong> O se ejecutan TODAS las operaciones, o NINGUNA. No hay estados intermedios.
          </p>
        </section>

        <!-- Slide 20 ‚Äî Buenas Pr√°cticas -->
        <section>
          <h2><span class="icon">‚ú®</span>Buenas Pr√°cticas de Dise√±o</h2>
          <ul style="text-align: left; max-width: 800px; margin: 30px auto;">
            <li class="fragment">‚úÖ Usa nombres descriptivos en ingl√©s: <code>customer</code>, <code>order_id</code></li>
            <li class="fragment">‚úÖ Siempre define una clave primaria</li>
            <li class="fragment">‚úÖ Normaliza hasta 3FN (generalmente)</li>
            <li class="fragment">‚úÖ Usa tipos de datos apropiados</li>
            <li class="fragment">‚úÖ Define restricciones (NOT NULL, UNIQUE, etc.)</li>
            <li class="fragment">‚úÖ Documenta tu esquema</li>
            <li class="fragment">‚úÖ Crea √≠ndices en columnas que se consultan frecuentemente</li>
            <li class="fragment">‚úÖ Usa transacciones para operaciones cr√≠ticas</li>
          </ul>
        </section>

        <!-- Slide 21 ‚Äî Herramientas -->
        <section>
          <h2><span class="icon">üõ†Ô∏è</span>Herramientas para Trabajar con BBDD</h2>
          <div class="grid-3" style="margin-top: 30px; font-size: 0.85em;">
            <div class="tool-card fragment">
              <h4>pgAdmin</h4>
              <p>Cliente gr√°fico para PostgreSQL</p>
            </div>
            <div class="tool-card fragment">
              <h4>DBeaver</h4>
              <p>Cliente universal (cualquier BD)</p>
            </div>
            <div class="tool-card fragment">
              <h4>MySQL Workbench</h4>
              <p>Para MySQL espec√≠ficamente</p>
            </div>
            <div class="tool-card fragment">
              <h4>TablePlus</h4>
              <p>Cliente moderno multi-plataforma</p>
            </div>
            <div class="tool-card fragment">
              <h4>SQL Playground</h4>
              <p>¬°El que vamos a usar! üöÄ</p>
            </div>
            <div class="tool-card fragment">
              <h4>Terminal (psql)</h4>
              <p>Cliente de l√≠nea de comandos</p>
            </div>
          </div>
        </section>

        <!-- Slide 22 ‚Äî Diagrama ER -->
        <section>
          <h2><span class="icon">üìä</span>Diagrama Entidad-Relaci√≥n (ER)</h2>
          <p>Representaci√≥n visual del dise√±o de la base de datos</p>
          <div class="er-diagram fragment" style="margin-top: 30px; background: white; padding: 30px; border-radius: 15px;">
            <svg viewBox="0 0 800 400" style="max-width: 100%; height: auto;">
              <!-- Entidad Cliente -->
              <rect x="50" y="100" width="150" height="200" fill="#667eea" rx="10"/>
              <text x="125" y="130" text-anchor="middle" fill="white" font-weight="bold">CLIENTE</text>
              <line x1="50" y1="140" x2="200" y2="140" stroke="white" stroke-width="2"/>
              <text x="125" y="165" text-anchor="middle" fill="white" font-size="14">üîë cliente_id</text>
              <text x="125" y="190" text-anchor="middle" fill="white" font-size="14">nombre</text>
              <text x="125" y="215" text-anchor="middle" fill="white" font-size="14">apellido</text>
              <text x="125" y="240" text-anchor="middle" fill="white" font-size="14">email</text>
              <text x="125" y="265" text-anchor="middle" fill="white" font-size="14">activo</text>
              
              <!-- Entidad Alquiler -->
              <rect x="325" y="100" width="150" height="200" fill="#764ba2" rx="10"/>
              <text x="400" y="130" text-anchor="middle" fill="white" font-weight="bold">ALQUILER</text>
              <line x1="325" y1="140" x2="475" y2="140" stroke="white" stroke-width="2"/>
              <text x="400" y="165" text-anchor="middle" fill="white" font-size="14">üîë alquiler_id</text>
              <text x="400" y="190" text-anchor="middle" fill="white" font-size="14">üîó cliente_id</text>
              <text x="400" y="215" text-anchor="middle" fill="white" font-size="14">üîó pelicula_id</text>
              <text x="400" y="240" text-anchor="middle" fill="white" font-size="14">fecha_alquiler</text>
              <text x="400" y="265" text-anchor="middle" fill="white" font-size="14">precio_pagado</text>
              
              <!-- Entidad Pel√≠cula -->
              <rect x="600" y="100" width="150" height="200" fill="#667eea" rx="10"/>
              <text x="675" y="130" text-anchor="middle" fill="white" font-weight="bold">PEL√çCULA</text>
              <line x1="600" y1="140" x2="750" y2="140" stroke="white" stroke-width="2"/>
              <text x="675" y="165" text-anchor="middle" fill="white" font-size="14">üîë pelicula_id</text>
              <text x="675" y="190" text-anchor="middle" fill="white" font-size="14">titulo</text>
              <text x="675" y="215" text-anchor="middle" fill="white" font-size="14">a√±o_lanzamiento</text>
              <text x="675" y="240" text-anchor="middle" fill="white" font-size="14">duracion</text>
              <text x="675" y="265" text-anchor="middle" fill="white" font-size="14">precio_alquiler</text>
              
              <!-- Relaciones -->
              <line x1="200" y1="200" x2="325" y2="200" stroke="#333" stroke-width="3"/>
              <text x="262" y="190" text-anchor="middle" font-size="16">1:N</text>
              
              <line x1="475" y1="200" x2="600" y2="200" stroke="#333" stroke-width="3"/>
              <text x="537" y="190" text-anchor="middle" font-size="16">N:1</text>
            </svg>
          </div>
        </section>

        <!-- Slide 23 ‚Äî Recursos y SQL Playground -->
        <section data-background-gradient="linear-gradient(135deg, #667eea 0%, #764ba2 100%)">
          <h2 style="color: white;">üöÄ ¬°Ahora a Practicar!</h2>
          <div style="background: rgba(255,255,255,0.95); padding: 40px; border-radius: 20px; max-width: 700px; margin: 30px auto;">
            <h3 style="color: #667eea;">SQL Playground</h3>
            <p style="color: #666; font-size: 1.1em; margin: 20px 0;">Practica todo lo aprendido con 30 ejercicios guiados</p>
            <a href="/sql-playground" style="display: inline-block; background: linear-gradient(135deg, #667eea, #764ba2); color: white; padding: 18px 40px; border-radius: 50px; text-decoration: none; font-weight: 700; font-size: 1.2em; margin-top: 20px;">
              üóÑÔ∏è Abrir SQL Playground
            </a>
          </div>
        </section>

        <!-- Slide 24 ‚Äî Resumen -->
        <section>
          <h2><span class="icon">üìö</span>Resumen de la Clase 2</h2>
          <div class="two-col">
            <div>
              <h3 style="color: #667eea;">Conceptos Avanzados</h3>
              <ul style="text-align: left; font-size: 0.85em;">
                <li>‚úÖ JOINs (INNER, LEFT)</li>
                <li>‚úÖ Integridad referencial</li>
                <li>‚úÖ Normalizaci√≥n (1FN, 2FN, 3FN)</li>
                <li>‚úÖ Propiedades ACID</li>
                <li>‚úÖ Dise√±o de bases de datos</li>
              </ul>
            </div>
            <div>
              <h3 style="color: #764ba2;">DDL y Administraci√≥n</h3>
              <ul style="text-align: left; font-size: 0.85em;">
                <li>‚úÖ CREATE TABLE</li>
                <li>‚úÖ INSERT, UPDATE, DELETE</li>
                <li>‚úÖ √çndices</li>
                <li>‚úÖ Vistas (Views)</li>
                <li>‚úÖ Transacciones</li>
                <li>‚úÖ Buenas pr√°cticas</li>
              </ul>
            </div>
          </div>
        </section>

        <!-- Slide 25 ‚Äî Fin -->
        <section data-background-gradient="linear-gradient(135deg, #667eea 0%, #764ba2 100%)">
          <h1 style="color: white;">¬°Excelente trabajo!</h1>
          <p style="color: white; font-size: 1.3em; margin: 30px 0;">Has completado Bases de Datos Relacionales - Clase 2</p>
          <div style="background: rgba(255,255,255,0.15); padding: 25px; border-radius: 15px; margin: 30px auto; max-width: 600px;">
            <p style="color: white; font-size: 1.1em; margin-bottom: 15px;">Sigue practicando con el SQL Playground</p>
            <p style="color: rgba(255,255,255,0.9); font-size: 0.95em;">30 ejercicios para dominar SQL</p>
          </div>
          <div style="margin-top: 50px;">
            <a href="/sql-playground" style="display: inline-block; background: white; color: #667eea; padding: 18px 40px; border-radius: 50px; text-decoration: none; font-weight: 700; font-size: 1.1em; margin: 10px;">
              üöÄ Ir al SQL Playground
            </a>
            <a href="../index.html" style="display: inline-block; background: rgba(255,255,255,0.2); color: white; padding: 18px 40px; border-radius: 50px; text-decoration: none; font-weight: 700; font-size: 1.1em; margin: 10px; border: 2px solid white;">
              ‚Üê Volver al Inicio
            </a>
          </div>
        </section>

      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/reveal.js@5/dist/reveal.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@5/plugin/highlight/highlight.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@5/plugin/notes/notes.js"></script>
    <script>
      Reveal.initialize({
        hash: true,
        slideNumber: 'c/t',
        showSlideNumber: 'all',
        transition: 'slide',
        plugins: [ RevealHighlight, RevealNotes ]
      });
    </script>
  </body>
</html>
