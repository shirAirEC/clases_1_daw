<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SQL Playground - 1Âº DAW</title>
  <link rel="stylesheet" href="/sql-playground/styles.css">
</head>
<body>
  <!-- VerificaciÃ³n de autenticaciÃ³n -->
  <script src="/auth-check.js"></script>

  <div class="container">
    <!-- Header -->
    <header class="header">
      <a href="/" class="btn-back">â† Volver al Inicio</a>
      <div class="header-content">
        <h1>ğŸ—„ï¸ SQL Playground</h1>
        <p>Practica consultas SQL en tiempo real</p>
        <div class="header-badge">1Âº Desarrollo de Aplicaciones Web</div>
      </div>
    </header>

    <!-- Main Content -->
    <div class="main-content">
      <!-- Sidebar con tabs -->
      <aside class="sidebar">
        <!-- Tabs -->
        <div class="sidebar-tabs">
          <button class="tab-btn active" data-tab="schema">ğŸ“‹ Esquema</button>
          <button class="tab-btn" data-tab="exercises">ğŸ“ Ejercicios</button>
          <button class="tab-btn" data-tab="examples">ğŸ“š Ejemplos</button>
        </div>

        <!-- Tab: Esquema -->
        <div id="schemaTab" class="tab-content active">
          <div class="sidebar-header">
            <h3>ğŸ“‹ Esquema de Base de Datos</h3>
            <button id="refreshSchema" class="btn-icon" title="Actualizar esquema">
              ğŸ”„
            </button>
          </div>
          <div id="schemaContent" class="schema-content">
            <p class="loading">Cargando esquema...</p>
          </div>
        </div>

        <!-- Tab: Ejercicios -->
        <div id="exercisesTab" class="tab-content">
          <div class="sidebar-header">
            <h3>ğŸ“ Ejercicios Guiados</h3>
            <div class="exercise-progress" id="exerciseProgress">
              <span id="progressText">0/0</span>
            </div>
          </div>
          <div id="exercisesContent" class="exercises-content">
            <p class="loading">Cargando ejercicios...</p>
          </div>
        </div>

        <!-- Tab: Ejemplos -->
        <div id="examplesTab" class="tab-content">
          <div class="sidebar-header">
            <h3>ğŸ“š Ejemplos</h3>
          </div>
          <div id="examplesContent" class="examples-content">
            <p class="loading">Cargando ejemplos...</p>
          </div>
        </div>
      </aside>

      <!-- Editor y resultados -->
      <main class="editor-section">
        <!-- Editor SQL -->
        <div class="editor-container">
          <div class="editor-header">
            <h3>âœï¸ Editor SQL</h3>
            <div class="editor-actions">
              <button id="clearBtn" class="btn-secondary">ğŸ—‘ï¸ Limpiar</button>
              <button id="formatBtn" class="btn-secondary">ğŸ“ Formatear</button>
              <button id="executeBtn" class="btn-primary">â–¶ï¸ Ejecutar</button>
            </div>
          </div>
          <textarea 
            id="sqlEditor" 
            placeholder="Escribe tu consulta SQL aquÃ­...&#10;&#10;Ejemplo:&#10;SELECT * FROM pelicula LIMIT 10;"
            spellcheck="false"
          ></textarea>
          <div class="editor-footer">
            <span id="lineCount">LÃ­nea 1</span>
            <span class="separator">|</span>
            <span class="info-text">Solo consultas SELECT permitidas</span>
          </div>
        </div>

        <!-- Resultados -->
        <div class="results-container">
          <div class="results-header">
            <h3>ğŸ“Š Resultados</h3>
            <div class="results-info">
              <span id="executionInfo"></span>
            </div>
          </div>
          <div id="resultsContent" class="results-content">
            <div class="empty-state">
              <div class="empty-icon">ğŸ¯</div>
              <h4>Ejecuta una consulta para ver resultados</h4>
              <p>Escribe una consulta SQL arriba y presiona "Ejecutar"</p>
            </div>
          </div>
        </div>
      </main>
    </div>

    <!-- Footer -->
    <footer class="footer">
      <p>
        SQL Playground para 1Âº DAW Â· 
        <a href="https://github.com/shirAirEC/clases_1_daw" target="_blank">Ver en GitHub</a>
      </p>
    </footer>
  </div>

  <script src="/sql-playground/app.js"></script>
  <script src="/sql-playground/exercises.js"></script>
</body>
</html>
