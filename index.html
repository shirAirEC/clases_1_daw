<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Material de Clases - 1¬∫ DAW</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 50%, #8b5cf6 100%);
      min-height: 100vh;
      color: #333;
      overflow-x: hidden;
    }

    /* Pantalla de inicio */
    #home-screen {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
      position: relative;
    }

    .home-container {
      max-width: 1400px;
      width: 100%;
      text-align: center;
      animation: fadeInUp 0.8s ease;
    }

    .home-header {
      margin-bottom: 60px;
    }

    .home-header h1 {
      font-size: 4.5em;
      color: white;
      font-weight: 800;
      margin-bottom: 20px;
      text-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
      letter-spacing: -1px;
    }

    .home-header p {
      font-size: 1.5em;
      color: rgba(255, 255, 255, 0.9);
      font-weight: 300;
      margin-bottom: 10px;
    }

    .year-badge {
      display: inline-block;
      background: rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(10px);
      color: white;
      padding: 12px 30px;
      border-radius: 50px;
      font-size: 1.1em;
      font-weight: 600;
      margin-top: 20px;
      border: 2px solid rgba(255, 255, 255, 0.3);
    }

    .asignaturas-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
      gap: 40px;
      max-width: 1100px;
      margin: 0 auto;
      padding: 0 20px;
    }

    .asignatura-btn {
      position: relative;
      background: rgba(255, 255, 255, 0.98);
      border-radius: 30px;
      padding: 60px 40px;
      cursor: pointer;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
      border: 3px solid rgba(255, 255, 255, 0.5);
      overflow: hidden;
      text-decoration: none;
      display: block;
    }

    .asignatura-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(139, 92, 246, 0.1) 100%);
      opacity: 0;
      transition: opacity 0.4s ease;
    }

    .asignatura-btn:hover::before {
      opacity: 1;
    }

    .asignatura-btn:hover {
      transform: translateY(-10px) scale(1.02);
      box-shadow: 0 30px 80px rgba(0, 0, 0, 0.3);
      border-color: rgba(139, 92, 246, 0.5);
    }

    .asignatura-icon {
      font-size: 5em;
      margin-bottom: 25px;
      display: block;
      transition: transform 0.4s ease;
    }

    .asignatura-btn:hover .asignatura-icon {
      transform: scale(1.1) rotate(5deg);
    }

    .asignatura-btn h2 {
      font-size: 2.2em;
      color: #1e293b;
      margin-bottom: 15px;
      font-weight: 700;
    }

    .asignatura-btn p {
      font-size: 1.15em;
      color: #64748b;
      line-height: 1.6;
      margin-bottom: 20px;
    }

    .clases-count {
      display: inline-block;
      background: linear-gradient(135deg, #3b82f6, #8b5cf6);
      color: white;
      padding: 10px 25px;
      border-radius: 50px;
      font-size: 0.95em;
      font-weight: 600;
      margin-top: 15px;
    }

    .coming-soon {
      opacity: 0.7;
      cursor: default;
      pointer-events: none;
    }

    .coming-soon-badge {
      background: linear-gradient(135deg, #f59e0b, #ef4444);
      color: white;
      padding: 8px 20px;
      border-radius: 50px;
      font-size: 0.9em;
      font-weight: 600;
      display: inline-block;
      margin-top: 15px;
    }

    /* Secciones de clases */
    .clases-screen {
      display: none;
      min-height: 100vh;
      padding: 40px 20px 80px;
      animation: fadeIn 0.5s ease;
    }

    .clases-screen.active {
      display: block;
    }

    .back-btn {
      position: fixed;
      top: 30px;
      left: 30px;
      background: rgba(255, 255, 255, 0.95);
      color: #1e293b;
      padding: 15px 30px;
      border-radius: 50px;
      text-decoration: none;
      font-weight: 600;
      font-size: 1em;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      transition: all 0.3s ease;
      z-index: 1000;
      border: 2px solid rgba(59, 130, 246, 0.3);
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .back-btn:hover {
      transform: translateX(-5px);
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
      background: white;
    }

    .clases-header {
      text-align: center;
      max-width: 1000px;
      margin: 80px auto 60px;
      background: rgba(255, 255, 255, 0.95);
      padding: 50px 40px;
      border-radius: 30px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
    }

    .clases-header h1 {
      font-size: 3.5em;
      color: #1e293b;
      margin-bottom: 20px;
      font-weight: 800;
    }

    .clases-header p {
      font-size: 1.3em;
      color: #64748b;
      font-weight: 400;
    }

    .clases-grid {
      max-width: 1400px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
      gap: 35px;
      padding: 0 20px;
    }

    .clase-card {
      background: white;
      border-radius: 25px;
      padding: 40px;
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      border: 2px solid rgba(59, 130, 246, 0.1);
      position: relative;
      overflow: hidden;
    }

    .clase-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 6px;
      background: linear-gradient(90deg, #3b82f6, #8b5cf6);
    }

    .clase-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 25px 60px rgba(0, 0, 0, 0.25);
      border-color: rgba(139, 92, 246, 0.3);
    }

    .clase-card.disabled {
      opacity: 0.55;
      filter: grayscale(40%);
    }

    .clase-card.disabled:hover {
      transform: translateY(-3px);
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
    }

    /* Clases solo para profesor */
    .clase-card.profesor-only {
      border: 2px solid rgba(139, 92, 246, 0.3);
      background: linear-gradient(135deg, rgba(139, 92, 246, 0.05) 0%, rgba(99, 102, 241, 0.05) 100%);
    }

    .clase-card.profesor-only.alumno-view {
      opacity: 0.55;
      filter: grayscale(40%);
      pointer-events: none;
    }

    .clase-card.profesor-only.alumno-view .btn-profesor {
      background: #666;
      cursor: not-allowed;
    }

    .clase-card.profesor-only.alumno-view .status-badge {
      background: #666;
    }

    .clase-header-row {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 25px;
      flex-wrap: wrap;
      gap: 10px;
    }

    .clase-numero {
      background: linear-gradient(135deg, #3b82f6, #8b5cf6);
      color: white;
      padding: 10px 22px;
      border-radius: 50px;
      font-size: 0.9em;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .status-badge {
      padding: 8px 18px;
      border-radius: 50px;
      font-size: 0.85em;
      font-weight: 600;
    }

    .status-disponible {
      background: #dcfce7;
      color: #166534;
    }

    .status-proximamente {
      background: #fef3c7;
      color: #92400e;
    }

    .clase-card.profesor-only .status-badge {
      background: linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%);
      color: white;
      font-weight: 600;
    }

    /* Clase especial accesible solo para profesor */
    .clase-card.profesor-acceso {
      opacity: 1 !important;
      filter: none !important;
      border: 2px solid rgba(139, 92, 246, 0.3);
      background: linear-gradient(135deg, rgba(139, 92, 246, 0.05) 0%, rgba(99, 102, 241, 0.05) 100%);
    }

    .clase-card.profesor-acceso:hover {
      transform: translateY(-8px);
      box-shadow: 0 25px 60px rgba(0, 0, 0, 0.25);
    }

    .clase-card h3 {
      font-size: 1.6em;
      color: #1e293b;
      margin-bottom: 15px;
      font-weight: 700;
      line-height: 1.3;
    }

    .clase-card p {
      color: #64748b;
      line-height: 1.7;
      margin-bottom: 25px;
      font-size: 1.05em;
    }

    .clase-stats {
      display: flex;
      gap: 15px;
      margin: 25px 0;
      flex-wrap: wrap;
    }

    .stat {
      display: flex;
      align-items: center;
      gap: 8px;
      background: #f1f5f9;
      padding: 10px 18px;
      border-radius: 50px;
      font-size: 0.95em;
      color: #475569;
      font-weight: 500;
    }

    .clase-temas {
      background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
      padding: 25px;
      border-radius: 20px;
      margin: 25px 0;
    }

    .clase-temas h4 {
      color: #3b82f6;
      font-size: 1em;
      margin-bottom: 15px;
      font-weight: 700;
    }

    .clase-temas ul {
      list-style: none;
    }

    .clase-temas li {
      color: #64748b;
      padding: 8px 0;
      padding-left: 25px;
      position: relative;
      font-size: 0.95em;
    }

    .clase-temas li::before {
      content: '‚ñ∏';
      position: absolute;
      left: 0;
      color: #8b5cf6;
      font-weight: bold;
      font-size: 1.2em;
    }

    .btn-comenzar {
      display: block;
      width: 100%;
      background: linear-gradient(135deg, #3b82f6, #8b5cf6);
      color: white;
      padding: 18px 35px;
      border-radius: 50px;
      text-decoration: none;
      font-weight: 700;
      font-size: 1.1em;
      text-align: center;
      transition: all 0.3s ease;
      box-shadow: 0 10px 30px rgba(59, 130, 246, 0.4);
      border: none;
      cursor: pointer;
      margin-top: 25px;
    }

    .btn-comenzar:hover {
      transform: translateY(-3px);
      box-shadow: 0 15px 40px rgba(59, 130, 246, 0.6);
    }

    .btn-comenzar:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none !important;
    }

    .empty-state {
      text-align: center;
      background: white;
      padding: 80px 40px;
      border-radius: 30px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
      max-width: 600px;
      margin: 0 auto;
    }

    .empty-state-icon {
      font-size: 6em;
      margin-bottom: 30px;
    }

    .empty-state h3 {
      font-size: 2em;
      color: #1e293b;
      margin-bottom: 15px;
      font-weight: 700;
    }

    .empty-state p {
      font-size: 1.2em;
      color: #64748b;
    }

    footer {
      text-align: center;
      padding: 40px 20px;
      color: white;
      font-size: 0.95em;
      margin-top: 60px;
    }

    footer a {
      color: white;
      text-decoration: none;
      font-weight: 600;
      border-bottom: 2px solid rgba(255, 255, 255, 0.5);
      transition: border-color 0.3s ease;
    }

    footer a:hover {
      border-color: white;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @media (max-width: 1024px) {
      .asignaturas-container {
        grid-template-columns: 1fr;
        max-width: 600px;
      }

      .clases-grid {
        grid-template-columns: 1fr;
      }
    }

    @media (max-width: 768px) {
      .home-header h1 {
        font-size: 2.5em;
      }

      .home-header p {
        font-size: 1.2em;
      }

      .asignatura-btn {
        padding: 40px 30px;
      }

      .asignatura-btn h2 {
        font-size: 1.8em;
      }

      .clases-header h1 {
        font-size: 2.5em;
      }

      .back-btn {
        top: 20px;
        left: 20px;
        padding: 12px 20px;
        font-size: 0.9em;
      }
    }

    /* Decoraci√≥n de fondo */
    .bg-decoration {
      position: fixed;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      z-index: -1;
      overflow: hidden;
      pointer-events: none;
    }

    .bg-circle {
      position: absolute;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.05);
      animation: float 20s infinite ease-in-out;
    }

    .bg-circle:nth-child(1) {
      width: 300px;
      height: 300px;
      top: 10%;
      left: 10%;
      animation-delay: 0s;
    }

    .bg-circle:nth-child(2) {
      width: 200px;
      height: 200px;
      top: 60%;
      right: 15%;
      animation-delay: 3s;
    }

    .bg-circle:nth-child(3) {
      width: 150px;
      height: 150px;
      bottom: 20%;
      left: 20%;
      animation-delay: 6s;
    }

    @keyframes float {
      0%, 100% {
        transform: translateY(0) translateX(0);
      }
      33% {
        transform: translateY(-30px) translateX(20px);
      }
      66% {
        transform: translateY(20px) translateX(-20px);
      }
    }


    /* ===== SISTEMA DE AUTENTICACI√ìN ===== */
    
    #auth-widget {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 10000;
    }

    .auth-btn {
      background: rgba(255, 255, 255, 0.95);
      border: 2px solid rgba(59, 130, 246, 0.5);
      color: #1e40af;
      padding: 12px 24px;
      border-radius: 25px;
      font-size: 1em;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      transition: all 0.3s ease;
    }

    .auth-btn:hover {
      background: white;
      border-color: #3b82f6;
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
    }

    .user-info {
      display: flex;
      align-items: center;
      gap: 12px;
      background: rgba(255, 255, 255, 0.95);
      padding: 12px 20px;
      border-radius: 25px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    }

    .user-info #user-name {
      font-weight: 600;
      color: #1e293b;
    }

    .role-badge {
      padding: 4px 12px;
      border-radius: 12px;
      font-size: 0.85em;
      font-weight: 600;
    }

    .role-profesor {
      background: linear-gradient(135deg, #f59e0b, #ef4444);
      color: white;
    }

    .role-alumno {
      background: linear-gradient(135deg, #3b82f6, #8b5cf6);
      color: white;
    }

    .logout-btn {
      background: #ef4444;
      color: white;
      border: none;
      padding: 6px 16px;
      border-radius: 15px;
      font-size: 0.9em;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .logout-btn:hover {
      background: #dc2626;
      transform: scale(1.05);
    }

    /* Modal de Login */
    .modal {
      display: none;
      position: fixed;
      z-index: 10001;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0, 0, 0, 0.6);
      backdrop-filter: blur(5px);
      align-items: center;
      justify-content: center;
      animation: fadeIn 0.3s ease;
    }

    .modal-content {
      background: white;
      padding: 40px;
      border-radius: 25px;
      width: 90%;
      max-width: 450px;
      position: relative;
      box-shadow: 0 10px 50px rgba(0, 0, 0, 0.3);
      animation: slideDown 0.3s ease;
    }

    @keyframes slideDown {
      from {
        opacity: 0;
        transform: translateY(-50px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .close-modal {
      position: absolute;
      right: 20px;
      top: 20px;
      font-size: 30px;
      font-weight: bold;
      color: #aaa;
      cursor: pointer;
      transition: color 0.3s;
    }

    .close-modal:hover {
      color: #000;
    }

    .modal-content h2 {
      color: #1e40af;
      margin-bottom: 10px;
      font-size: 2em;
    }

    .form-group {
      margin-bottom: 25px;
    }

    .form-group label {
      display: block;
      margin-bottom: 8px;
      color: #334155;
      font-weight: 600;
      font-size: 1em;
    }

    .form-group input {
      width: 100%;
      padding: 14px;
      border: 2px solid #e2e8f0;
      border-radius: 12px;
      font-size: 1em;
      transition: all 0.3s;
    }

    .form-group input:focus {
      outline: none;
      border-color: #3b82f6;
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }

    .login-submit-btn {
      width: 100%;
      background: linear-gradient(135deg, #3b82f6, #8b5cf6);
      color: white;
      padding: 16px;
      border: none;
      border-radius: 12px;
      font-size: 1.1em;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s;
    }

    .login-submit-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(59, 130, 246, 0.4);
    }

    .login-help {
      margin-top: 25px;
      padding: 20px;
      background: #f1f5f9;
      border-radius: 12px;
      font-size: 0.9em;
      color: #475569;
    }

    .login-help code {
      background: white;
      padding: 3px 8px;
      border-radius: 5px;
      color: #3b82f6;
      font-weight: 600;
    }

    .error-message {
      background: #fee2e2;
      border: 2px solid #ef4444;
      color: #991b1b;
      padding: 12px;
      border-radius: 8px;
      margin-bottom: 15px;
      font-weight: 500;
    }
  </style>
</head>
<body>
  <div class="bg-decoration">
    <div class="bg-circle"></div>
    <div class="bg-circle"></div>
    <div class="bg-circle"></div>
  </div>

  <!-- Pantalla de inicio -->
  <div id="home-screen">
    <div class="home-container">
      <div class="home-header">
        <h1>üìö Material de Clases</h1>
        <p>Selecciona una asignatura para comenzar</p>
        <div class="year-badge">1¬∫ Desarrollo de Aplicaciones Web</div>
      </div>

      <div class="asignaturas-container">
        <!-- Lenguaje de Marcas -->
        <a href="#lenguaje-marcas" class="asignatura-btn" onclick="showSection('lenguaje-marcas'); return false;">
          <span class="asignatura-icon">üìù</span>
          <h2>Lenguaje de Marcas</h2>
          <p>Aprende XML, DTD, XSD, XPath, XSLT y mucho m√°s en este curso completo sobre lenguajes de marcado.</p>
          <span class="clases-count">8 Clases ¬∑ 2 Disponibles</span>
        </a>

        <!-- Bases de Datos -->
        <a href="#bases-datos" class="asignatura-btn" onclick="showSection('bases-datos'); return false;">
          <span class="asignatura-icon">üíæ</span>
          <h2>Bases de Datos</h2>
          <p>Aprende SQL con ejercicios interactivos y pr√°ctica en tiempo real contra una base de datos PostgreSQL.</p>
          <span class="clases-count">30 Ejercicios ¬∑ SQL Playground</span>
        </a>
      </div>
    </div>
  </div>

  <!-- Secci√≥n Lenguaje de Marcas -->
  <div id="lenguaje-marcas" class="clases-screen">
    <a href="#" class="back-btn" onclick="showHome(); return false;">
      <span>‚Üê</span>
      <span>Volver al inicio</span>
    </a>

    <div class="clases-header">
      <h1>üìù Lenguaje de Marcas</h1>
      <p>Definici√≥n de esquemas y vocabularios en XML</p>
    </div>

    <div class="clases-grid">
      <!-- Clase 1 -->
      <div class="clase-card">
        <div class="clase-header-row">
          <span class="clase-numero">Clase 1</span>
          <span class="status-badge status-disponible">‚úÖ Disponible</span>
        </div>
        
        <h3>Estructura y Sintaxis B√°sica de XML</h3>
        <p>Aprende los fundamentos de XML: estructura jer√°rquica, elementos, atributos, comentarios, CDATA, entidades y espacios de nombres.</p>
        
        <div class="clase-stats">
          <div class="stat">
            <span>üìÑ</span>
            <span>39 slides</span>
          </div>
          <div class="stat">
            <span>üíª</span>
            <span>6 ejercicios</span>
          </div>
          <div class="stat">
            <span>üìù</span>
            <span>20 preguntas</span>
          </div>
        </div>

        <div class="clase-temas">
          <h4>üìö Contenido:</h4>
          <ul>
            <li>Pr√≥logo y estructura de √°rbol</li>
            <li>Etiquetas y elementos</li>
            <li>Atributos y sus reglas</li>
            <li>Comentarios y secciones CDATA</li>
            <li>Referencias a entidades</li>
            <li>Espacios de nombres</li>
            <li>XML bien formado vs v√°lido</li>
          </ul>
        </div>

        <a href="clases/clase1.html" class="btn-comenzar">üöÄ Comenzar Clase 1</a>
      </div>

      <!-- Cuestionario XML Clase 1 -->
      <div class="clase-card content-card">
        <div class="clase-header-row">
          <span class="clase-numero">üìã</span>
          <span class="status-badge status-disponible">‚úÖ Disponible</span>
        </div>
        
        <h3>Cuestionario: Fundamentos de XML</h3>
        <p>Eval√∫a tus conocimientos sobre la estructura de XML, elementos, atributos y reglas de formato.</p>
        
        <div class="clase-stats">
          <div class="stat">
            <span>‚ùì</span>
            <span>20 Preguntas</span>
          </div>
          <div class="stat">
            <span>üìä</span>
            <span>Verdadero/Falso</span>
          </div>
        </div>

        <a href="clases/cuestionario-xml1.html" class="btn-comenzar btn-cuestionario">üìù Realizar Cuestionario</a>
      </div>

      <!-- Clase 2 -->
      <div class="clase-card">
        <div class="clase-header-row">
          <span class="clase-numero">Clase 2</span>
          <span class="status-badge status-disponible">‚úÖ Disponible</span>
        </div>
        
        <h3>DTD y XML Schema (XSD)</h3>
        <p>Pasa de XML bien formado a XML v√°lido. Aprende a crear reglas con DTD, declarar elementos y atributos, y conoce las ventajas de XML Schema.</p>
        
        <div class="clase-stats">
          <div class="stat">
            <span>üìÑ</span>
            <span>31 slides</span>
          </div>
          <div class="stat">
            <span>üíª</span>
            <span>8 ejercicios</span>
          </div>
          <div class="stat">
            <span>üìù</span>
            <span>18 preguntas</span>
          </div>
        </div>

        <div class="clase-temas">
          <h4>üìö Contenido:</h4>
          <ul>
            <li>Qu√© es un DTD</li>
            <li>Declaraci√≥n de elementos y atributos</li>
            <li>Operadores (+, *, ?, |)</li>
            <li>Entidades en DTD</li>
            <li>DTD interno vs externo</li>
            <li>Introducci√≥n a XSD</li>
            <li>DTD vs XSD</li>
          </ul>
        </div>

        <a href="clases/clase2.html" class="btn-comenzar">üöÄ Comenzar Clase 2</a>
      </div>

      <!-- Clase 3 -->
      <div class="clase-card disabled">
        <div class="clase-header-row">
          <span class="clase-numero">Clase 3</span>
          <span class="status-badge status-proximamente">üîú Pr√≥ximamente</span>
        </div>
        
        <h3>XML Schema (XSD) en Profundidad</h3>
        <p>Tipos simples y complejos, restricciones, secuencias y validaci√≥n avanzada.</p>
        
        <button class="btn-comenzar" disabled>üîí Pr√≥ximamente</button>
      </div>

      <!-- Clase 4 -->
      <div class="clase-card disabled">
        <div class="clase-header-row">
          <span class="clase-numero">Clase 4</span>
          <span class="status-badge status-proximamente">üîú Pr√≥ximamente</span>
        </div>
        
        <h3>XPath y Navegaci√≥n de Documentos XML</h3>
        <p>Aprende a navegar y consultar documentos XML usando expresiones XPath.</p>
        
        <button class="btn-comenzar" disabled>üîí Pr√≥ximamente</button>
      </div>

      <!-- Clase 5 -->
      <div class="clase-card disabled">
        <div class="clase-header-row">
          <span class="clase-numero">Clase 5</span>
          <span class="status-badge status-proximamente">üîú Pr√≥ximamente</span>
        </div>
        
        <h3>XSLT: Transformaciones XML</h3>
        <p>Transforma documentos XML en otros formatos usando XSLT.</p>
        
        <button class="btn-comenzar" disabled>üîí Pr√≥ximamente</button>
      </div>

      <!-- Clase 6 -->
      <div class="clase-card disabled">
        <div class="clase-header-row">
          <span class="clase-numero">Clase 6</span>
          <span class="status-badge status-proximamente">üîú Pr√≥ximamente</span>
        </div>
        
        <h3>XML y Aplicaciones Web</h3>
        <p>Procesamiento de XML en aplicaciones web modernas y APIs REST.</p>
        
        <button class="btn-comenzar" disabled>üîí Pr√≥ximamente</button>
      </div>

      <!-- Clase 7 -->
      <div class="clase-card disabled">
        <div class="clase-header-row">
          <span class="clase-numero">Clase 7</span>
          <span class="status-badge status-proximamente">üîú Pr√≥ximamente</span>
        </div>
        
        <h3>JSON y Comparaci√≥n con XML</h3>
        <p>Diferencias entre XML y JSON, ventajas, casos de uso y conversi√≥n.</p>
        
        <button class="btn-comenzar" disabled>üîí Pr√≥ximamente</button>
      </div>

      <!-- Clase 8 -->
      <div class="clase-card disabled">
        <div class="clase-header-row">
          <span class="clase-numero">Clase 8</span>
          <span class="status-badge status-proximamente">üîú Pr√≥ximamente</span>
        </div>
        
        <h3>Proyecto Final Integrador</h3>
        <p>Proyecto completo aplicando todos los conocimientos adquiridos.</p>
        
        <button class="btn-comenzar" disabled>üîí Pr√≥ximamente</button>
      </div>
    </div>

    <footer>
      <p>üìò Material de Clases 1¬∫ DAW ¬∑ Desarrollado con ‚ù§Ô∏è usando HTML5, CSS3 y JavaScript</p>
    </footer>
  </div>

  <!-- Secci√≥n Bases de Datos -->
  <div id="bases-datos" class="clases-screen">
    <a href="#" class="back-btn" onclick="showHome(); return false;">
      <span>‚Üê</span>
      <span>Volver al inicio</span>
    </a>

    <div class="clases-header">
      <h1>üíæ Bases de Datos</h1>
      <p>Dise√±o, gesti√≥n y consulta de bases de datos relacionales</p>
    </div>

    <div class="clases-grid">
      <!-- SQL Playground -->
      <div class="clase-card">
        <div class="clase-header-row">
          <span class="clase-numero">SQL Playground</span>
          <span class="status-badge status-disponible">‚úÖ Disponible</span>
        </div>
        
        <h3>üóÑÔ∏è Practica SQL en Tiempo Real</h3>
        <p>Accede a nuestro playground interactivo con una base de datos real de PostgreSQL. Ejecuta consultas SQL, resuelve 30 ejercicios guiados y aprende desde lo b√°sico hasta consultas avanzadas.</p>
        
        <div class="clase-stats">
          <div class="stat">
            <span>üìù</span>
            <span>30 ejercicios</span>
          </div>
          <div class="stat">
            <span>üóÑÔ∏è</span>
            <span>Base de datos real</span>
          </div>
          <div class="stat">
            <span>‚ö°</span>
            <span>Tiempo real</span>
          </div>
        </div>

        <div class="clase-temas">
          <h4>üìö Contenido:</h4>
          <ul>
            <li>SELECT, WHERE, ORDER BY (B√°sico)</li>
            <li>Agregaciones: COUNT, SUM, AVG</li>
            <li>JOINs: INNER, LEFT, RIGHT</li>
            <li>Subconsultas y queries avanzadas</li>
            <li>Funciones de fecha y texto</li>
            <li>GROUP BY y HAVING</li>
            <li>Vistas y optimizaci√≥n</li>
          </ul>
        </div>

        <a href="/sql-playground" class="btn-comenzar">
          üöÄ Abrir SQL Playground
        </a>
      </div>

      <!-- Teor√≠a SQL Clase 1 -->
      <div class="clase-card">
        <div class="clase-header-row">
          <span class="clase-numero">Clase 1</span>
          <span class="status-badge status-disponible">‚úÖ Disponible</span>
        </div>
        
        <h3>üèõÔ∏è Fundamentos de Bases de Datos Relacionales</h3>
        <p>Introducci√≥n completa al modelo relacional, SQL b√°sico y conceptos esenciales. Desde los fundamentos hasta consultas con GROUP BY.</p>
        
        <div class="clase-stats">
          <div class="stat">
            <span>‚è±Ô∏è</span>
            <span>2 horas</span>
          </div>
          <div class="stat">
            <span>üìä</span>
            <span>23 slides</span>
          </div>
          <div class="stat">
            <span>üéØ</span>
            <span>Nivel b√°sico</span>
          </div>
        </div>

        <div class="clase-temas">
          <h4>üìö Contenido:</h4>
          <ul>
            <li>¬øQu√© es una base de datos? Tipos de BBDD</li>
            <li>Modelo relacional: tablas, filas, columnas</li>
            <li>Claves primarias y for√°neas</li>
            <li>Relaciones: 1:1, 1:N, N:M</li>
            <li>SQL: SELECT, WHERE, ORDER BY, LIMIT</li>
            <li>Operadores l√≥gicos: AND, OR, LIKE</li>
            <li>Funciones de agregaci√≥n: COUNT, SUM, AVG, MAX, MIN</li>
            <li>GROUP BY: agrupar y agregar datos</li>
          </ul>
        </div>

        <a href="clases/basesdatos1.html" class="btn-comenzar">
          üìö Ver Presentaci√≥n
        </a>
      </div>

      <!-- Cuestionario Clase 1 -->
      <div class="clase-card">
        <div class="clase-header-row">
          <span class="clase-numero">Evaluaci√≥n</span>
          <span class="status-badge status-disponible">‚úÖ Disponible</span>
        </div>
        
        <h3>üìù Cuestionario: Fundamentos de BD</h3>
        <p>Pon a prueba tus conocimientos sobre la Clase 1. 20 preguntas de teor√≠a, sintaxis SQL y an√°lisis de consultas. Tus respuestas ser√°n revisadas por el profesor.</p>
        
        <div class="clase-stats">
          <div class="stat">
            <span>‚ùì</span>
            <span>20 preguntas</span>
          </div>
          <div class="stat">
            <span>‚è±Ô∏è</span>
            <span>30-40 minutos</span>
          </div>
          <div class="stat">
            <span>üìä</span>
            <span>Revisi√≥n profesor</span>
          </div>
        </div>

        <div class="clase-temas">
          <h4>üìö Temas evaluados:</h4>
          <ul>
            <li>Conceptos fundamentales de BBDD</li>
            <li>Claves primarias y for√°neas</li>
            <li>Sintaxis SQL (SELECT, WHERE, ORDER BY)</li>
            <li>Funciones de agregaci√≥n</li>
            <li>GROUP BY y operadores l√≥gicos</li>
            <li>An√°lisis de consultas SQL</li>
          </ul>
        </div>

        <a href="clases/cuestionario-bd1.html" class="btn-comenzar">
          üìù Realizar Cuestionario
        </a>
      </div>

      <!-- JOINs y SQL Avanzado (Profesor) -->
      <div class="clase-card disabled" data-profesor-only="true" data-url="clases/basesdatos2.html">
        <div class="clase-header-row">
          <span class="clase-numero">Clase 2</span>
          <span class="status-badge status-proximamente">üîú Pr√≥ximamente</span>
        </div>
        
        <h3>JOINs y SQL Avanzado</h3>
        <p>Relaciones entre tablas, normalizaci√≥n, propiedades ACID, DDL (CREATE, INSERT, UPDATE, DELETE), √≠ndices, vistas y transacciones.</p>
        
        <button class="btn-comenzar btn-clase-especial" disabled>üîí Pr√≥ximamente</button>
      </div>

      <!-- SQL Avanzado (Pr√≥ximamente) -->
      <div class="clase-card disabled">
        <div class="clase-header-row">
          <span class="clase-numero">Clase 3</span>
          <span class="status-badge status-proximamente">üîú Pr√≥ximamente</span>
        </div>
        
        <h3>SQL Avanzado</h3>
        <p>Procedimientos almacenados, triggers, transacciones, √≠ndices y optimizaci√≥n de consultas.</p>
        
        <button class="btn-comenzar" disabled>üîí Pr√≥ximamente</button>
      </div>

      <!-- NoSQL (Pr√≥ximamente) -->
      <div class="clase-card disabled">
        <div class="clase-header-row">
          <span class="clase-numero">Clase 4</span>
          <span class="status-badge status-proximamente">üîú Pr√≥ximamente</span>
        </div>
        
        <h3>Bases de Datos NoSQL</h3>
        <p>MongoDB, Redis, introducci√≥n a bases de datos documentales y clave-valor.</p>
        
        <button class="btn-comenzar" disabled>üîí Pr√≥ximamente</button>
      </div>
    </div>

    <footer>
      <p>üìò Material de Clases 1¬∫ DAW</p>
    </footer>
  </div>

  <!-- Bot√≥n de Login/Usuario (fijo en esquina) -->
  <div id="auth-widget">
    <button id="login-btn" class="auth-btn" onclick="showLoginModal()">
      üë§ Iniciar Sesi√≥n
    </button>
    <div id="user-info" class="user-info" style="display: none;">
      <span id="user-name"></span>
      <span id="user-role" class="role-badge"></span>
      <a id="panel-profesor-btn" href="profesor/revisar-cuestionarios.html" style="display: none; background: #28a745; color: white; padding: 8px 16px; border-radius: 15px; text-decoration: none; font-weight: 600; font-size: 0.9em;">
        üìä Panel Profesor
      </a>
      <a id="mis-calificaciones-btn" href="clases/mis-calificaciones.html" style="display: none; background: #667eea; color: white; padding: 8px 16px; border-radius: 15px; text-decoration: none; font-weight: 600; font-size: 0.9em;">
        üìã Mis Calificaciones
      </a>
      <button id="logout-btn" class="logout-btn" onclick="logout()">Cerrar Sesi√≥n</button>
    </div>
  </div>

  <!-- Modal de Login -->
  <div id="login-modal" class="modal" style="display: none;">
    <div class="modal-content">
      <span class="close-modal" onclick="hideLoginModal()">&times;</span>
      <h2>üîê Iniciar Sesi√≥n</h2>
      <p style="color: #666; margin-bottom: 10px;">Accede con tu cuenta de alumno o profesor</p>
      <div style="background: #fef3c7; border: 2px solid #f59e0b; color: #92400e; padding: 12px; border-radius: 10px; margin-bottom: 20px; font-size: 0.9em;">
        <strong>‚ö†Ô∏è Inicio de sesi√≥n requerido:</strong> Debes iniciar sesi√≥n para acceder al contenido de las clases.
      </div>
      
      <form id="login-form" onsubmit="handleLogin(event)">
        <div class="form-group">
          <label for="username">üë§ Usuario</label>
          <input type="text" id="username" name="username" required placeholder="Introduce tu usuario">
        </div>
        
        <div class="form-group">
          <label for="password">üîë Contrase√±a</label>
          <input type="password" id="password" name="password" required placeholder="Introduce tu contrase√±a">
        </div>
        
        <div id="login-error" class="error-message" style="display: none;"></div>
        
        <button type="submit" class="login-submit-btn">Iniciar Sesi√≥n</button>
      </form>
      
      <div class="login-help">
        <p style="text-align: center; color: #64748b;"><strong>‚ÑπÔ∏è Informaci√≥n de acceso</strong></p>
        <p style="text-align: center; font-size: 0.95em;">Si no tienes tus credenciales, contacta con el profesor.</p>
      </div>
    </div>
  </div>

  <script>
    // Navegaci√≥n entre secciones
    function showSection(sectionId) {
      document.getElementById('home-screen').style.display = 'none';
      document.querySelectorAll('.clases-screen').forEach(screen => {
        screen.classList.remove('active');
      });
      document.getElementById(sectionId).classList.add('active');
      window.scrollTo(0, 0);
    }

    function showHome() {
      document.getElementById('home-screen').style.display = 'flex';
      document.querySelectorAll('.clases-screen').forEach(screen => {
        screen.classList.remove('active');
      });
      window.scrollTo(0, 0);
    }

    // Mostrar secci√≥n si hay hash en la URL al cargar
    window.addEventListener('load', function() {
      const hash = window.location.hash.substring(1);
      if (hash === 'lenguaje-marcas' || hash === 'bases-datos') {
        showSection(hash);
      }
      // Verificar sesi√≥n al cargar
      checkSession();
    });

    // Actualizar hash en la URL
    window.addEventListener('hashchange', function() {
      const hash = window.location.hash.substring(1);
      if (hash === 'lenguaje-marcas' || hash === 'bases-datos') {
        showSection(hash);
      } else if (hash === '') {
        showHome();
      }
    });

    // ===== SISTEMA DE AUTENTICACI√ìN =====

    function showLoginModal() {
      document.getElementById('login-modal').style.display = 'flex';
      document.getElementById('username').focus();
    }

    function hideLoginModal() {
      document.getElementById('login-modal').style.display = 'none';
      document.getElementById('login-form').reset();
      document.getElementById('login-error').style.display = 'none';
    }

    async function handleLogin(event) {
      event.preventDefault();
      
      const username = document.getElementById('username').value;
      const password = document.getElementById('password').value;
      const errorDiv = document.getElementById('login-error');
      
      try {
        const response = await fetch('https://clases1daw-production.up.railway.app/api/login', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          credentials: 'include',
          body: JSON.stringify({ username, password })
        });
        
        const data = await response.json();
        
        if (data.success) {
          // Guardar token y usuario en localStorage
          localStorage.setItem('authToken', data.token);
          localStorage.setItem('user', JSON.stringify(data.user));
          updateUserInterface(data.user, true);
        } else {
          errorDiv.textContent = data.error || 'Error al iniciar sesi√≥n';
          errorDiv.style.display = 'block';
        }
      } catch (error) {
        console.error('Error:', error);
        errorDiv.textContent = 'Error de conexi√≥n. Intenta de nuevo.';
        errorDiv.style.display = 'block';
      }
    }

    async function logout() {
      try {
        const token = localStorage.getItem('authToken');
        await fetch('https://clases1daw-production.up.railway.app/api/logout', {
          method: 'POST',
          headers: token ? { 'Authorization': `Bearer ${token}` } : {},
          credentials: 'include'
        });
        
        localStorage.removeItem('authToken');
        localStorage.removeItem('user');
        updateUserInterface(null, false);
      } catch (error) {
        console.error('Error:', error);
        localStorage.removeItem('authToken');
        localStorage.removeItem('user');
        updateUserInterface(null, false);
      }
    }

    async function checkSession() {
      try {
        const token = localStorage.getItem('authToken');
        const headers = token ? { 'Authorization': `Bearer ${token}` } : {};
        
        const response = await fetch('https://clases1daw-production.up.railway.app/api/session', {
          credentials: 'include',
          headers: headers
        });
        
        const data = await response.json();
        
        if (data.authenticated && data.user) {
          updateUserInterface(data.user, true);
          localStorage.setItem('user', JSON.stringify(data.user));
        } else {
          // Verificar localStorage como fallback
          const storedUser = localStorage.getItem('user');
          const storedToken = localStorage.getItem('authToken');
          if (storedUser && storedToken) {
            updateUserInterface(JSON.parse(storedUser), true);
          } else {
            updateUserInterface(null, false);
          }
        }
      } catch (error) {
        console.error('Error:', error);
        // Intentar con localStorage
        const storedUser = localStorage.getItem('user');
        const storedToken = localStorage.getItem('authToken');
        if (storedUser && storedToken) {
          updateUserInterface(JSON.parse(storedUser), true);
        } else {
          updateUserInterface(null, false);
        }
      }
    }

    function updateUserInterface(user, authenticated) {
      const loginBtn = document.getElementById('login-btn');
      const userInfo = document.getElementById('user-info');
      const userName = document.getElementById('user-name');
      const userRole = document.getElementById('user-role');
      const mainContent = document.querySelectorAll('.bg-decoration, #home-screen, .clases-screen');
      const loginModal = document.getElementById('login-modal');
      const closeModalBtn = document.querySelector('.close-modal');
      
      if (authenticated && user) {
        // Usuario autenticado: mostrar contenido, ocultar login forzado
        loginBtn.style.display = 'none';
        userInfo.style.display = 'flex';
        userName.textContent = user.nombre || user.username;
        userRole.textContent = user.rol === 'profesor' ? 'üë®‚Äçüè´ Profesor' : 'üë®‚Äçüéì Alumno';
        userRole.className = 'role-badge ' + (user.rol === 'profesor' ? 'role-profesor' : 'role-alumno');
        
        // Mostrar bot√≥n de panel del profesor solo para profesores
        const panelProfesorBtn = document.getElementById('panel-profesor-btn');
        const misCalificacionesBtn = document.getElementById('mis-calificaciones-btn');
        
        if (user.rol === 'profesor') {
          panelProfesorBtn.style.display = 'inline-block';
          misCalificacionesBtn.style.display = 'none';
        } else {
          panelProfesorBtn.style.display = 'none';
          misCalificacionesBtn.style.display = 'inline-block';
        }
        
        // Mostrar todo el contenido
        mainContent.forEach(el => el.style.display = '');
        loginModal.style.display = 'none';
        if (closeModalBtn) closeModalBtn.style.display = 'block';

        // Aplicar restricciones para alumnos en clases solo-profesor
        const profesorOnlyCards = document.querySelectorAll('.clase-card.profesor-only');
        if (user.rol === 'profesor') {
          profesorOnlyCards.forEach(card => card.classList.remove('alumno-view'));
        } else {
          profesorOnlyCards.forEach(card => card.classList.add('alumno-view'));
        }

        // Manejar clases con data-profesor-only (aparecen como "pr√≥ximamente" pero el profesor puede acceder)
        const clasesProfesionales = document.querySelectorAll('.clase-card[data-profesor-only="true"]');
        clasesProfesionales.forEach(card => {
          const button = card.querySelector('.btn-clase-especial');
          if (user.rol === 'profesor') {
            // Para profesor: activar la clase
            card.classList.remove('disabled');
            card.classList.add('profesor-acceso');
            button.disabled = false;
            button.textContent = 'üìö Ver Presentaci√≥n';
            button.onclick = () => {
              window.location.href = card.getAttribute('data-url');
            };
          } else {
            // Para alumnos: mantener como "pr√≥ximamente" sin cambios
            // (ya est√° disabled por defecto)
          }
        });
      } else {
        // Usuario NO autenticado: ocultar contenido, forzar login
        loginBtn.style.display = 'block';
        userInfo.style.display = 'none';
        
        // Ocultar todo el contenido
        mainContent.forEach(el => el.style.display = 'none');
        
        // Mostrar modal de login (sin poder cerrar)
        loginModal.style.display = 'flex';
        if (closeModalBtn) closeModalBtn.style.display = 'none';
        
        // Focus en el campo de usuario
        setTimeout(() => {
          const usernameInput = document.getElementById('username');
          if (usernameInput) usernameInput.focus();
        }, 300);
      }
    }

    // Cerrar modal al hacer clic fuera (solo si hay contenido visible)
    window.onclick = function(event) {
      const modal = document.getElementById('login-modal');
      const homeScreen = document.getElementById('home-screen');
      // Solo permitir cerrar el modal si el contenido est√° visible (usuario autenticado)
      if (event.target === modal && homeScreen.style.display !== 'none') {
        hideLoginModal();
      }
    }
  </script>

</body>
</html>
